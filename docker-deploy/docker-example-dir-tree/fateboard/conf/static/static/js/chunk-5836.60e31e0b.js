(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5836"],{"+2Yw":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".details-container {\n  height: 100%;\n}\n.details-container .top {\n    padding-bottom: 5px;\n    margin-bottom: 20px;\n    line-height: 25px;\n    border-bottom: 1px solid;\n}\n.details-container .top .link {\n      color: #409eff;\n}\n.details-container .section-wrapper {\n    /*max-height: 70vh;*/\n    margin-bottom: 32px;\n}\n.details-container .section-wrapper .section-title {\n      margin-bottom: 18px;\n      font-size: 18px;\n      color: #534c77;\n      font-weight: bold;\n}\n.details-container .section-wrapper .section-view {\n      padding: 20px 50px;\n      background: #fff;\n      border-radius: 4px;\n}\n.details-container .section-wrapper .section-view .log-list {\n        padding: 24px;\n        background: #f8f8fa;\n        border-radius: 5px;\n        height: 80%;\n        overflow: auto;\n}\n.details-container .section-wrapper .section-view .log-list > li {\n          /*height: 25px;*/\n          line-height: 25px;\n          text-indent: 10px;\n          color: #7f7d8e;\n}\n.details-container .section-wrapper .section-view .log-list > li .num {\n            white-space: nowrap;\n            margin-right: 15px;\n            color: #bbbbc8;\n}\n.details-container .section-wrapper .section-view .echart {\n        width: calc(75vw - 25px);\n        height: 500px;\n}\n.details-container .section-wrapper .section-view .full-screen-echart {\n        width: 100%;\n        height: 500px;\n}\n.details-container .section-wrapper .section-view .tab {\n        overflow: auto;\n        overflow-x: hidden;\n}\n.details-container .section-wrapper .job-summary {\n      min-height: 180px;\n      padding-top: 32px;\n      padding-left: 48px;\n}\n.details-container .section-wrapper .job-summary .section-col {\n        font-size: 16px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n}\n.details-container .section-wrapper .job-summary .section-col .text-col {\n          margin-right: 28px;\n}\n.details-container .section-wrapper .job-summary .section-col .text-col .prop {\n            white-space: nowrap;\n            margin-bottom: 8px;\n            color: #bbbbc8;\n            height: 18px;\n            line-height: 18px;\n}\n.details-container .section-wrapper .job-summary .section-col .text-col .value {\n            margin-bottom: 8px;\n            font-weight: bold;\n            color: #7f7d8e;\n            height: 18px;\n            line-height: 18px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n}\n.details-container .section-wrapper .job-summary .section-col .text-col .tip {\n            margin-bottom: 8px;\n            margin-left: 10px;\n            height: 18px;\n            line-height: 18px;\n            font-weight: bold;\n            color: #494ece;\n            cursor: pointer;\n}\n.details-container .tab-bar {\n    margin: 0 48px 24px;\n}\n.details-container .tab-bar .tab-btn {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      margin-right: 24px;\n      padding: 4px 18px 3px;\n      background: #f8f8fa;\n      line-height: 26px;\n      border-radius: 26px;\n      cursor: pointer;\n}\n.details-container .tab-bar .tab-btn .text {\n        font-size: 16px;\n        font-weight: bold;\n        color: #7f7d8e;\n}\n.details-container .tab-bar .tab-btn:hover {\n        background: #494ece;\n}\n.details-container .tab-bar .tab-btn:hover .text {\n          color: #fff;\n}\n.details-container .tab-bar .tab-btn-active {\n      background: #494ece;\n}\n.details-container .tab-bar .tab-btn-active .text {\n        color: #fff;\n}\n.details-container .output-wrapper {\n    height: 800px;\n    padding: 32px;\n    background: #fff;\n    border-radius: 4px;\n}\n.details-container .output-wrapper .dag-wrapper {\n      width: 100%;\n}\n.details-container .output-wrapper .dag-wrapper .output-title {\n        margin-bottom: 8px;\n        font-size: 16px;\n        color: #7f7d8e;\n}\n.details-container .output-wrapper .dag-wrapper .output-desc {\n        color: #bbbbc8;\n}\n.details-container .output-wrapper .dag-wrapper .echart-wrapper {\n        height: 632px;\n}\n.details-container .output-wrapper .dag-wrapper .echart-wrapper .echarts {\n          height: 100%;\n}\n.details-container .output-wrapper .para-wrapper {\n      width: 416px;\n      overflow: auto;\n}\n.details-container .output-wrapper .para-wrapper .para-title {\n        margin-bottom: 18px;\n        font-size: 16px;\n        color: #7f7d8e;\n}\n.details-container .output-wrapper .para-wrapper .msg {\n        height: 632px;\n        padding: 24px;\n        margin-bottom: 24px;\n        color: #7f7d8e;\n        overflow: auto;\n}\n.details-container .output-wrapper .para-wrapper .msg .msg-list > li {\n          margin-bottom: 20px;\n}\n.details-container .output-wrapper .para-wrapper .msg .msg-list > li .msg-section-list > li {\n            white-space: nowrap;\n}\n.details-container .dialog-icons {\n    position: absolute;\n    right: 15px;\n    top: 15px;\n}\n.details-container .dialog-icons .img-wrapper {\n      width: 32px;\n      height: 32px;\n      margin-left: 10px;\n      cursor: pointer;\n}\n.details-container .el-dialog {\n    border-radius: 4px;\n}\n.details-container .el-dialog .el-dialog__header {\n      padding: 24px 48px 18px;\n}\n.details-container .el-dialog .el-dialog__header .el-dialog__title {\n        font-size: 18px;\n        color: #534c77;\n        font-weight: bold;\n}\n.details-container .el-dialog .el-dialog__body {\n      padding: 0;\n}\n",""])},"0iLu":function(e,t,a){"use strict";var n=a("i3Ir");a.n(n).a},"2/DZ":function(e,t,a){var n=a("WTJn");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("40fe4e9e",n,!0,{})},AZ6U:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".feature-correlation-wrapper {\n  height: 580px;\n  overflow: hidden;\n}\n.feature-correlation-wrapper .left {\n    width: 33%;\n    height: calc(100% - 30px);\n}\n.feature-correlation-wrapper .right {\n    width: 65%;\n    height: calc(100% - 30px);\n    margin-left: 30px;\n}\n.feature-correlation-wrapper .right .zoom-wrapper {\n      width: 84%;\n      height: 100%;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .show-text-btn {\n        margin-top: 5px;\n        text-align: right;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom {\n        background: #f8f8fa;\n        position: relative;\n        overflow: hidden;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper {\n          position: absolute;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper .cells-container .cells-row {\n            text-align: center;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper .cells-container .cells-row .cell {\n              width: 50px;\n              height: 50px;\n              line-height: 50px;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper .cells-container .cells-row .cell:nth-child(4n+0) {\n                background: #ff0;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper .cells-container .cells-row .cell:nth-child(4n+1) {\n                background: #0f0;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper .cells-container .cells-row .cell:nth-child(4n+2) {\n                background: #00f;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper .cells-container .cells-row .cell:nth-child(4n+3) {\n                background: #0ff;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper .cells-container .cells-row .y-axis {\n              width: 50px;\n              height: 50px;\n              line-height: 50px;\n}\n.feature-correlation-wrapper .right .zoom-wrapper .visible-zoom .cells-wrapper .cells-container .cells-row .x-axis {\n              width: 50px;\n              line-height: 25px;\n}\n.feature-correlation-wrapper .right .spectrum-wrapper {\n      margin-left: 16px;\n}\n.feature-correlation-wrapper .right .spectrum-wrapper .spectrum-bar {\n        width: 16px;\n        height: 100%;\n        background: -webkit-gradient(linear, left top, left bottom, from(#3135a6), color-stop(30%, #5b96fb), color-stop(40%, #bfebff), color-stop(50%, #e8f6ff), color-stop(60%, #ff81d9), color-stop(80%, #ec4b56), to(#c70861));\n        background: linear-gradient(to bottom, #3135a6 0%, #5b96fb 30%, #bfebff 40%, #e8f6ff 50%, #ff81d9 60%, #ec4b56 80%, #c70861 100%);\n}\n.feature-correlation-wrapper .right .spectrum-wrapper .scale-list {\n        height: calc(100% - 10px);\n}\n.feature-correlation-wrapper .right .spectrum-wrapper .scale-list > li {\n          width: 3px;\n          height: 12.5%;\n          position: relative;\n          color: #7f7d8e;\n          border-top: 1px solid #7f7d8e;\n}\n.feature-correlation-wrapper .right .spectrum-wrapper .scale-list > li > span {\n            position: absolute;\n            right: -60px;\n            top: -8px;\n            width: 50px;\n}\n.boost-wrapper {\n  padding: 20px;\n  margin-bottom: 35px;\n  border: 1px solid #e8e8ef;\n  border-radius: 4px;\n}\n.boost-wrapper .boost-text {\n    margin-right: 20px;\n    color: #7f7d8e;\n    font-weight: bold;\n}\n.boost-wrapper .boost-top {\n    margin-bottom: 20px;\n}\n.boost-wrapper .boost-top .el-input {\n      width: 100px;\n}\n.boost-wrapper .boost-top .el-input input {\n        width: 100%;\n        height: 24px;\n        padding: 2px 10px;\n        background: #f8f8fa;\n        border-radius: 24px;\n}\n.boost-wrapper .boost-top .el-input .el-select__caret {\n        line-height: 24px;\n}\n.boost-wrapper .boost-top .icon-query {\n      width: 18px;\n      height: 18px;\n      margin-top: 2px;\n      cursor: pointer;\n}\n.boost-wrapper .boost-top .spectrum-wrapper {\n      margin-left: 20px;\n      color: #bbbbc8;\n}\n.boost-wrapper .boost-top .spectrum-wrapper .spectrum-bar {\n        width: 150px;\n        height: 8px;\n        margin: 0 10px;\n        border-radius: 8px;\n}\n.boost-wrapper .boost-top .boost-switch-btn {\n      margin-left: 20px;\n      cursor: pointer;\n}\n.boost-wrapper .boost-trees {\n    height: 56px;\n    margin-bottom: 8px;\n}\n.boost-wrapper .tree-container {\n    margin-top: 10px;\n    width: 100%;\n    height: 500px;\n}\n.boost-wrapper .variable-importance-wrapper {\n    width: 100%;\n    height: 500px;\n    overflow-y: auto;\n}\n.selection-default {\n  border: 1px solid #fff;\n}\n.selection-disabled {\n  background: #f8f8fa;\n}\n.selection-none {\n  background: #e8e8ef;\n}\n.cv-tab-list {\n  margin-bottom: 22px;\n}\n.cv-tab-list > li {\n    margin-right: 20px;\n    padding: 5px 0;\n    border-bottom: 2px solid transparent;\n    font-weight: bold;\n    font-size: 16px;\n    cursor: pointer;\n}\n.cv-tab-list .active {\n    border-color: #494ece;\n    color: #494ece;\n}\n.model-text {\n  font-size: 16px;\n  font-weight: bold;\n  color: #7f7d8e;\n  line-height: 24px;\n  margin-bottom: 12px;\n}\n.cv-wrapper > li {\n  margin-bottom: 15px;\n  padding: 24px 32px;\n  border: 1px solid #e8e8ef;\n  border-radius: 2px;\n}\n.cv-wrapper > li .cv-top {\n    margin-bottom: 10px;\n}\n.line-height-between {\n  margin-bottom: 20px;\n}\n",""])},BSnc:function(e,t,a){var n=a("+2Yw");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("86c5fd5e",n,!0,{})},Bw9L:function(e,t,a){"use strict";var n=a("BSnc");a.n(n).a},CPt9:function(e,t,a){"use strict";var n=a("ccBm");a.n(n).a},F2mf:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".legend-wrapper .page-arrow[data-v-7d52dcfd] {\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n}\n.legend-wrapper .page-arrow[data-v-7d52dcfd]:first-of-type {\n    margin-right: 24px;\n}\n.legend-wrapper .page-arrow[data-v-7d52dcfd]:last-of-type {\n    margin-left: 24px;\n}\n.legend-wrapper .legend-list > li[data-v-7d52dcfd] {\n  margin-right: 32px;\n}\n.legend-wrapper .legend-list > li[data-v-7d52dcfd]:last-of-type {\n    margin-right: 0;\n}\n.legend-wrapper .legend-list > li .legend-group[data-v-7d52dcfd] {\n    cursor: pointer;\n}\n.legend-wrapper .legend-list > li .legend-group .color[data-v-7d52dcfd] {\n      width: 18px;\n      height: 18px;\n      margin-right: 5px;\n      border-radius: 1px;\n}\n.legend-wrapper .legend-list > li .legend-group .text[data-v-7d52dcfd] {\n      color: #7f7d8e;\n}\n",""])},OsHm:function(e,t,a){"use strict";var n=a("2/DZ");a.n(n).a},VF0w:function(e,t,a){"use strict";var n=a("d6z2");a.n(n).a},WTJn:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,".pagination {\n  margin-top: 24px;\n  font-size: 16px;\n  color: #7f7d8e;\n}\n.pagination .icon-arrow {\n    width: 24px;\n    height: 24px;\n    margin: 0 6px;\n    line-height: 24px;\n    text-align: center;\n}\n.pagination .page-count {\n    -webkit-box-sizing: content-box;\n            box-sizing: content-box;\n    min-width: 14px;\n    height: 24px;\n    padding: 0 5px;\n    margin: 0 6px;\n    border-radius: 24px;\n    line-height: 24px;\n    text-align: center;\n}\n.pagination .page-count:hover {\n      background: #494ece;\n      color: #fff;\n}\n.pagination .page-count-active {\n    background: #494ece;\n    color: #fff;\n}\n.pagination .skip-wrapper > span {\n    margin-right: 5px;\n    white-space: nowrap;\n}\n.pagination .skip-wrapper .el-input__inner {\n    min-width: 50px;\n    height: 28px;\n    padding: 0;\n    padding-left: 5px;\n}\n.no-data {\n  height: 25vh;\n  line-height: 25vh;\n  text-align: center;\n  font-size: 20px;\n  font-weight: bold;\n  color: #bbbbc8;\n}\n",""])},ccBm:function(e,t,a){var n=a("F2mf");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("e08c2ee6",n,!0,{})},d6z2:function(e,t,a){var n=a("AZ6U");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("e38173fe",n,!0,{})},fbM7:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"",""])},i3Ir:function(e,t,a){var n=a("fbM7");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("6ac5d815",n,!0,{})},jr1U:function(e,t,a){e.exports={default:a("wObO"),__esModule:!0}},nGDx:function(e,t,a){var n=a("Y7ZC"),i=a("E8gZ")(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},"nr+k":function(e,t,a){"use strict";a.r(t);var n=a("EJiy"),i=a.n(n),r=a("gDS+"),o=a.n(r),s=a("oF3Q"),l=a.n(s),c=a("m1cH"),p=a.n(c),u=a("/f1G"),d=a.n(u),h=a("GQeE"),f=a.n(h),g=a("QbLZ"),m=a.n(g),v=a("7Qib"),b=a("dv4G"),y=a("t3Un");var x=a("Yulh"),w={props:{show:{type:Boolean,default:!0},className:{type:String,default:""},defaultUrl:{type:String,default:""},hoverUrl:{type:String,default:""},activeUrl:{type:String,default:""}},data:function(){return{status:"default"}},computed:{imgUrl:function(){var e="";return"default"===this.status?e=this.defaultUrl:"hover"===this.status?e=this.hoverUrl:"active"===this.status&&(e=this.activeUrl),e}},methods:{mouseenter:function(){this.hoverUrl&&(this.status="hover")},mouseout:function(){this.status="default"},mousedown:function(){this.activeUrl&&(this.status="active")},mouseup:function(){"active"===this.status&&(this.status="default")},click:function(){this.$emit("clickFn")}}},_=(a("zMWc"),a("KHd+")),O=Object(_.a)(w,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],class:e.className,on:{mouseenter:e.mouseenter,mouseout:e.mouseout,mousedown:e.mousedown,mouseup:e.mouseup,click:e.click}},[a("img",{staticClass:"wh-100",attrs:{src:e.imgUrl,alt:""}})])},[],!1,null,"1c818422",null);O.options.__file="index.vue";var D=O.exports,I=a("Xi/h"),S=a("FyfS"),L=a.n(S),C=a("P2sY"),T=a.n(C),k=a("2c2J"),A={title:{text:""},color:["#8e91df","#78d0b7"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{show:!0,right:0,top:"3%",orient:"horizontal",itemWidth:15,itemHeight:15},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value"},xAxis:{type:"category",data:[]},series:[]},N=function(e,t,a){if(e&&f()(e).length>0){var n=[],i=[],r={},o={},s={};return f()(e).forEach(function(l){var c=[],p=-9999,u=[];(e[l].ivArray.length>0?e[l].ivArray:e[l].splitPoints).forEach(function(t,a,n){var i=e[l].splitPoints[a];i||0===i||(i=e[l].splitPoints[a-1]);var r="-",o="-";(i||0===i)&&(-9999===p?(r=l+" <= "+i,o="(-∞,"+i+"]"):a===n.length-1?(r=l+" > "+i,o="("+i+",+∞)"):(r=p+" < "+l+" <= "+i,o="("+p+","+i+"]"),p=i),c.push({binning:r,event_count:e[l].eventCountArray[a]||"0",event_ratio:Object(v.d)(e[l].eventRateArray[a]),non_event_count:e[l].nonEventCountArray[a]||"0",non_event_ratio:Object(v.d)(e[l].nonEventRateArray[a]),woe:Object(v.d)(e[l].woeArray[a]),iv:Object(v.d)(e[l].ivArray[a])}),u.push({formatterBinning:o,event_count:e[l].eventCountArray[a]||"0",event_ratio:Object(v.d)(e[l].eventRateArray[a]),non_event_count:e[l].nonEventCountArray[a]||"0",non_event_ratio:Object(v.d)(e[l].nonEventRateArray[a]),woe:Object(v.d)(e[l].woeArray[a])})}),r[l]=c;var d=Object(v.a)(A),h=Object(v.a)(A);d.tooltip.formatter=function(e){var t=u[e[0].dataIndex];return t.formatterBinning+"<br>Event Count: "+t.event_count+"<br>\n                Event Ratio: "+t.event_ratio+"<br>Non-Event Count: "+t.non_event_count+"<br>\n                Non-Event Ratio: "+t.non_event_ratio+"<br>"},h.tooltip.trigger="item",h.tooltip.formatter=function(e){var t=u[e.dataIndex];return t.formatterBinning+"<br>Woe: "+t.woe+"<br>"},d.series.push({name:"event count",type:"bar",data:e[l].eventCountArray,stack:"event"}),d.series.push({name:"non-event count",type:"bar",data:e[l].nonEventCountArray,stack:"event"});for(var f=1;f<=e[l].eventCountArray.length;f++)d.xAxis.data.push(f),h.xAxis.data.push(f);o[l]=d,h.series.push({name:"woe",type:"bar",data:e[l].woeArray}),h.series.push({type:"line",tooltip:{show:!1},data:e[l].woeArray}),s[l]=h,n.push({variable:l,iv:Object(v.d)(e[l].iv),binding:function(){if("guest"!==a)return l||"-";for(var e=0;e<t.length;e++)if(l===t[e])return e}(),monotonicity:e[l].isWoeMonotonic?e[l].isWoeMonotonic.toString():"false"}),i.push({value:l,label:l})}),{sourceData:n,options:i,variableData:r,stackBarData:o,woeData:s}}return null},E=a("YDBu"),j=a.n(E),M=function(e,t,a,n,i,r){if(0===e.length)return[];var o=0,s=function(e){var s=e.arr,l=e.node,c=e.grandChildrenArr,p=void 0===c?[]:c,u=e.depth,d=void 0===u?0:u,h=n[l.fid],f=i[l.id],g=l.sitename.split(":")[0],m=l.sitename.split(":")[1],b="ID: "+l.id+"\n";g!==t||m!==a||l.isLeaf||(b+=h+" <= "+f,1!==r[l.id]&&(b+="\nor missing"),b+="\n"),l.isLeaf&&"guest"===t&&(b+="weight: "+Object(v.d)(l.weight)+"\n"),b+=(g&&g.toUpperCase())+": "+m,s.push({treeid:l.id,name:b,children:p}),d>o&&(o=d)},l=e.find(function(t){return t.id===e[0].id}),c=[];s({arr:c,node:l});return function t(a,n,i,r){++r;var o=e.find(function(e){return e.id===n}),l=e.find(function(e){return e.id===i});if(o){var c=[],p=o.leftNodeid,u=o.rightNodeid;s({arr:a,node:o,grandChildrenArr:c,depth:r}),t(c,p,u,r)}if(l){var d=[],h=l.rightNodeid;t(d,l.leftNodeid,h),s({arr:a,node:l,grandChildrenArr:d})}}(c[0].children,e[0].leftNodeid,e[0].rightNodeid,1),{data:c,size:e.length,maxDepth:o}},z={tooltip:{trigger:"item",triggerOn:"mousemove",formatter:function(e){var t="";return e.data.name.split("\n").forEach(function(e,a,n){t+=e,a<n.length-1&&(t+="<br>")}),t}},series:{type:"tree",data:[],left:"2%",right:"2%",top:"8%",bottom:"20%",symbol:"rect",symbolSize:[110,50],orient:"vertical",lineStyle:{color:"#e8e8ef",width:2},itemStyle:{normal:{color:"transparent",borderColor:"transparent"}},expandAndCollapse:!1,label:{position:"inside",backgroundColor:"rgb(73,78,206)",color:"#fff",distance:0,rotate:0,verticalAlign:"middle",borderRadius:5,align:"center",fontSize:12,borderWidth:1,padding:[3,1],width:110,height:70,lineHeight:16,rich:{}},leaves:{label:{position:"inside",backgroundColor:"rgb(146,149,226)",color:"#fff",distance:0,rotate:0,verticalAlign:"middle",borderRadius:5,align:"center",borderWidth:1,lineHeight:22,rich:{}}},animationDurationUpdate:750}},B={color:"transparent",tooltip:{trigger:"axis",position:function(e,t,a,n,i){var r=a.offsetWidth,o=a.offsetHeight;return{left:e[0]-r/2,top:e[1]-o/2}},formatter:function(e){return"Tree ID: "+e[0].data[0]+"<br>Tree Size: "+e[0].data[1]},backgroundColor:"#fff",textStyle:{color:"rgb(73,78,206)",fontSize:12,fontFamily:'"Lato", "proxima-nova", "Helvetica Neue", "Arial", "sans-serif"'},axisPointer:{type:"line",lineStyle:{color:"#FF9A4D",width:2}}},backgroundColor:"transparent",grid:{left:0,right:0,bottom:0,top:0,containLabel:!0},xAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:{type:"line",symbol:"none",data:[],markLine:{lineStyle:{width:2,color:"#FF9A4D",type:"solid"},animation:!1,symbol:"none",data:[[{coord:[0,0]},{coord:[0,0]}]]}}},H={color:["#878ada"],title:{text:"",textStyle:{color:"#606266",fontSize:16,fontFamily:'"Lato", "proxima-nova", "Helvetica Neue", Arial, sans-serif'}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"5%",bottom:"3%",containLabel:!0},backgroundColor:"#f8f8fa",yAxis:[{type:"category",data:[],axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},{type:"category",offset:30,data:[],axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}}],xAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},series:[{type:"bar",barWidth:"20%",barGap:"-100%",itemStyle:{color:"#e8e8ef"},data:[],label:{show:!0,position:"right",color:"#999",formatter:null},tooltip:{show:!1}},{name:"value",type:"bar",barWidth:"20%",data:[]}]},F=k.a.state.modelNameMap,P=function(e){var t=e.outputType,a=e.responseData,n=e.role,r=e.partyId,s={isNoModelOutput:!1};if(!a||0===f()(a).length)return s.isNoModelOutput=!0,s;if(t===F.boost)f()(a).length>0?function(e){var t=e.responseData,a=e.output,n=e.role,r=e.partyId;a.formatObj=t,a.formatString=o()(t,null,2);var s=Object(v.a)(z),l=Object(v.a)(B),c=[],p=[],u=t.featureNameFidMapping,d=t.trees,h=t.classes,f=t.treeDim,g=0;if(f<3)d.forEach(function(e,t){c.push(M(e.tree,n,r,u,e.splitMaskdict,e.missingDirMaskdict)),p.push([t,e.tree.length]),e.tree.length>g&&(g=e.tree.length)}),s.series.data=c[0].data,a.currentTreeData={id:c[0].data[0].treeid,size:c[0].size,maxDepth:c[0].maxDepth},a.maxTreeSize=g,a.treesOverviewData=c,l.series.data=p,l.series.markLine.data[0][1].coord[1]=g,a.treesLineData=l,a.treeOptions=s;else{var m=[];if("guest"===n)h.forEach(function(e,t){var a=t+": "+e;m.push({value:t,label:a})});else if("host"===n)for(var b=0;b<f;b++)m.push({value:b,label:b});a.classOptions=m;for(var y=[],x=[],w=0;w<f;w++)y.push([]),x.push([]);d.forEach(function(e,t){y[t%f].push(M(e.tree,n,r,u,e.splitMaskdict,e.missingDirMaskdict)),x[t%f].push([j()(t/f),e.tree.length])}),a.allTreesOverviewData=y,a.allTreesLineSeriesData=x,c=y[0],p=x[0],x[0].forEach(function(e){e[1]>g&&(g=e[1])}),s.series.data=c[0].data,a.currentTreeData={id:c[0].data[0].treeid,size:c[0].size,maxDepth:c[0].maxDepth},a.treesOverviewData=c,l.series.data=p,l.series.markLine.data[0][1].coord[1]=g,a.maxTreeSize=g,a.treesLineData=l,a.treeOptions=s}if(t.featureImportances&&t.featureImportances.length>0){var _=Object(v.a)(H),O=[],D=[],I=[],S=[],L=t.featureNameFidMapping;t.featureImportances.forEach(function(e){O.push(e.importance);var t=e.sitename.split(":")[0],a=e.sitename.split(":")[1];t===n&&a===r?D.push(L[e.fid]):D.push(e.fid.toString()),S.push(e.sitename)});var C=O.reduce(function(e,t){return t>e?t:e}),T=0;D.forEach(function(e){var t=e?e.toString().length:(void 0===e?"undefined":i()(e)).length;t>T&&(T=t)}),D=D.map(function(e){return e||(e=void 0===e?"undefined":i()(e)),e.toString().padEnd(T,"  ")}),t.featureImportances.forEach(function(e,t){I.push(C)}),_.series[0].data=I,_.series[1].data=O.reverse(),_.series[1].name="importance",_.series[0].label.formatter=function(e){return Object(v.d)(O[e.dataIndex])},_.yAxis[0].data=D.reverse(),_.yAxis[1].data=S.reverse(),a.variableImportanceOptions=_}}({responseData:a,output:s,role:n,partyId:r}):s.isNoModelOutput=!0;else if(t===F.dataIO){var l=[],c=[],p=a.imputerParam,u=a.outlierParam,d=p&&p.missingReplaceValue&&f()(p.missingReplaceValue).length>0,h=u&&u.outlierReplaceValue&&f()(u.outlierReplaceValue).length>0;d&&(f()(p.missingReplaceValue).forEach(function(e){l.push({variable:e,ratio:Object(v.d)(p.missingValueRatio[e]),value:Object(v.d)(p.missingReplaceValue[e])})}),s.imputerData=l),h&&(f()(u.outlierReplaceValue).forEach(function(e){c.push({variable:e,ratio:Object(v.d)(u.outlierValueRatio[e]),value:Object(v.d)(u.outlierReplaceValue[e])})}),s.outlierData=c),d||h||(s.isNoModelOutput=!0)}else if(t===F.intersection)a?s=a:s.isNoModelOutput=!0;else if(t===F.scale){var g=a&&a.colScaleParam,m=a&&a.header,b=[];g&&m?(m.forEach(function(e){var t=g[e];t&&(t.variable=e,t.columnLower=Object(v.d)(t.columnLower),t.columnUpper=Object(v.d)(t.columnUpper),b.push(t))}),s={tBody:b}):s.isNoModelOutput=!0}else if(t===F.homoLR||t===F.heteroLR||t===F.heteroLinR||t===F.homoNN||t===F.poisson){var y=a.weight,x=a.intercept,w=a.isConverged,_=a.iters,O=a.needOneVsRest,D=[];y&&f()(y).length>0?(f()(y).forEach(function(e){D.push({variable:e,weight:Object(v.d)(y[e])})}),O||D.push({variable:"intercept",weight:Object(v.d)(x)}),s=O?{tData:D}:{tData:D,isConverged:w,iters:_}):s.isNoModelOutput=!0}else if(t===F.selection){a&&a.results?s=T()(function(e){if(e&&0!==f()(e).length){var t=[{prop:"variable",label:"variable"}],a=[{prop:"variable",label:"variable"}],n=[],i=[],r=e.colNames,o=e.hostColNames,s=e.results;return r.forEach(function(e){n.push({variable:e})}),o.forEach(function(e){i.push({variable:e})}),s.forEach(function(s){var l=s.featureValues,c=s.hostFeatureValues,p=s.filterName.toLowerCase(),u=s.leftCols.leftCols;l&&f()(l).length>0&&(t.push({prop:p,label:p}),r.forEach(function(t){var a=n.findIndex(function(e){return t===e.variable});a>=0&&(n[a][p]=void 0===l[t]?"-":Object(v.d)(l[t])),u[t]||(n[a][p+"_disable"]=!0);for(var i=0;i<e.header.length;i++)if(e.header[i]===t){n[a].binding=i;break}})),c&&f()(c).length>0&&(a.push({prop:p,label:p}),o.forEach(function(e){var t=i.findIndex(function(t){return e===t.variable});t>=0&&(i[t][p]=void 0===l[e]?"-":Object(v.d)(l[e])),u[e]||(i[t][p+"_disable"]=!0)}))}),{guestHeader:t,hostHeader:a,guestBody:n,hostBody:i}}}(a),s):s.isNoModelOutput=!0}else if(t===F.oneHot){var I=a&&a.colMap,S=[],C={};I&&f()(I).length>0?(f()(I).forEach(function(e){S.push({value:e,label:e}),C[e]=[],I[e].encodedVariables.forEach(function(t,a){C[e].push({encoded_vector:t,value:I[e].values[a]})})}),s={options:S,variableData:C}):s.isNoModelOutput=!0}else if(t===F.binning){var k=a&&a.binningResult&&a.binningResult.binningResult,A=a&&a.hostResults&&a.hostResults.host&&a.hostResults.host.binningResult;if(k&&f()(k).length>0||A&&f()(A).length>0){var E=N(k,a.header,"guest"),P=[],V=[],R=!0,$=!1,W=void 0;try{for(var U,G=L()(a.header);!(R=(U=G.next()).done);R=!0){var J=U.value,Z=!0,K=!1,Y=void 0;try{for(var q,Q=L()(E.sourceData);!(Z=(q=Q.next()).done);Z=!0){var X=q.value;if(J===X.variable){P.push(X);break}}}catch(e){K=!0,Y=e}finally{try{!Z&&Q.return&&Q.return()}finally{if(K)throw Y}}var ee=!0,te=!1,ae=void 0;try{for(var ne,ie=L()(E.options);!(ee=(ne=ie.next()).done);ee=!0){var re=ne.value;if(J===re.value){V.push(re);break}}}catch(e){te=!0,ae=e}finally{try{!ee&&ie.return&&ie.return()}finally{if(te)throw ae}}}}catch(e){$=!0,W=e}finally{try{!R&&G.return&&G.return()}finally{if($)throw W}}E.sourceData=P,E.options=V,s.data=E,s.hostData=N(A,a.header,"host")}else s.isNoModelOutput=!0}return s},V={color:["#f00","#0f0","#00f","#24b68b","#A21155"],backgroundColor:"#fbfbfc",tooltip:{position:function(e,t,a,n,i){var r=a.offsetWidth,o=a.offsetHeight,s=i.viewSize[0],l=i.viewSize[1],c=e[0]+20,p=e[1]+-10;return p+o>=l&&(p=l-o),c+r+100>=s&&(c=s-r-100),{left:c,top:p}},axisPointer:{type:"line"},trigger:"axis"},itemStyle:{},grid:{left:"3%",right:"10%",bottom:"3%",containLabel:!0},xAxis:{type:"value",axisTick:{alignWithLabel:!0},name:"",nameCap:10},yAxis:{type:"value",name:""},series:[]},R=a("JPWs"),$=k.a.state.metricTypeMap,W=["#494ECE","#24B68B","#FF8800","#F23BA9","#F34444","#C13CE1","#7C56FF","#3DDBF5","#A7CF02","#FFD503"],U=["#999CEC","#83E6C9","#FFC37E","#F576C2","#FF8D8D","#DC99EC","#BDAAFF","#A5F2FF","#E1F397","#FFEA84"],G=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function(i){var r="";return i.forEach(function(i,o){if(!a||!1!==a[o].isActive){var s="";((s=Array.isArray(n[i.seriesIndex])?n[i.seriesIndex][i.dataIndex]:n[i.dataIndex])||0===s)&&(r+=e+"("+i.seriesName+"): "+s+"<br>");var l=Array.isArray(i.data)?i.data[1]:i.data;r+=t+"("+i.seriesName+"): "+l+"<br>"}}),r}};function J(e){var t=e%W.length,a=Math.floor(e/W.length),n=Object(R.a)(W[t]);n=n.replace("rgba(","").replace(")","").split(",");for(var i=0;i<n.length;i++)n[i]=parseFloat(n[i]);for(var r=0;r<n.length;r++)n[r]+=30*a;return"rgb("+n.join(",")+")"}var Z=a("jr1U"),K=a.n(Z),Y=a("Mz3J"),q={name:"DataOutput",components:{Pagination:Y.a},props:{header:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},pageSize:{type:Number,default:10},haveIndex:{type:Boolean,default:!0}},data:function(){return{currentPage:1}},computed:{tablePageData:function(){for(var e=[],t=0;t<this.tableData.length;t++){var a=this.tableData[t],n=t>=(this.currentPage-1)*this.pageSize,i=t<this.currentPage*this.pageSize;n&&i&&(this.haveIndex&&(a.tablePageIndex=t+1),e.push(a))}return e}},mounted:function(){},methods:{changePage:function(e){this.currentPage=e},sliceArray:function(e){for(var t=0,a=[];t<e.length;)a.push(e.slice(t,t+=this.pageSize));return a}}},Q=(a("0iLu"),Object(_.a)(q,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:e.tablePageData,"highlight-current-row":"",fit:"",border:"","empty-text":"No data","element-loading-text":"Loading"}},[e.haveIndex?a("el-table-column",{attrs:{prop:"tablePageIndex",label:"index",width:"100",align:"center"}}):e._e(),e._v(" "),e._l(e.header,function(e,t){return a("el-table-column",{key:t,attrs:{label:e.label,prop:e.prop,align:"center","show-overflow-tooltip":""}})})],2),e._v(" "),a("div",{staticClass:"flex flex-end"},[a("el-pagination",{attrs:{total:e.tableData.length,"current-page":e.currentPage,"page-size":e.pageSize,background:"",layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.changePage}})],1)],1)},[],!1,null,null,null));Q.options.__file="PaginationTable.vue";var X=Q.exports,ee=a("L2JU"),te={name:"DataOutput",components:{IconHoverAndActive:D},props:{legendData:{type:Array,default:function(){return[]}},instanceIndex:{type:Number,default:-1},instanceList:{type:Array,default:function(){return[]}}},data:function(){return{page:1,pageSize:3,legendDatas:this.filterLegend(JSON.parse(o()(this.legendData)))}},computed:m()({},Object(ee.b)(["icons","evaluationInstances"]),{fiterLegendData:function(){return this.legendDatas.slice((this.page-1)*this.pageSize,this.page*this.pageSize)}}),watch:{legendData:{handler:function(e,t){this.legendDatas=this.filterLegend(JSON.parse(o()(this.legendData)));for(var a=0;a<this.legendDatas.length;a++)this.legendDatas[a].isActive=!0;this.legendDatas.splice()},deep:!0}},mounted:function(){for(var e=0;e<this.legendDatas.length;e++)this.legendDatas[e].isActive=!0;this.legendDatas.splice()},methods:{prePage:function(){this.page>1&&--this.page},nextPage:function(){this.page<Math.ceil(this.legendDatas.length/this.pageSize)&&++this.page},clickLegend:function(e,t){t=(this.page-1)*this.pageSize+t,this.legendDatas[t].isActive=!this.legendDatas[t].isActive,this.legendDatas.splice(),this.$emit("clickLegend",{curveName:e,evaluationListIndex:this.instanceIndex,instanceList:this.instanceList})},filterLegend:function(e){var t=JSON.parse(o()(e));return t.sort(function(e,t){var a="",n="";if(Array.isArray(e))a=e[0].text.match(/[0-9]+/g),n=t[0].text.match(/[0-9]+/g);else{if(!(e instanceof Object))return 0;a=e.text.match(/[0-9]+/g),n=t.text.match(/[0-9]+/g)}if(!a||!n)return 0;for(var i=0;i<Math.max(a.length,n.length);i++)if(a[i]&&n[i]){if(parseInt(a[i])>parseInt(n[i]))return 1;if(parseInt(a[i])<parseInt(n[i]))return-1}else{if(!a[i])return 1;if(!n[i])return-1}}),t}}},ae=(a("CPt9"),Object(_.a)(te,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"legend-wrapper flex flex-center"},[a("icon-hover-and-active",{attrs:{"class-name":"page-arrow","default-url":e.icons.normal.left,"hover-url":e.icons.hover.left,"active-url":e.icons.active.left,show:e.legendDatas.length>e.pageSize},on:{clickFn:e.prePage}}),e._v(" "),a("ul",{staticClass:"legend-list flex flex-center"},e._l(e.fiterLegendData,function(t,n){return a("li",{key:n},[Array.isArray(t)?a("div",{staticClass:"flex flex-col"},[a("div",{staticClass:"legend-group flex flex-center",staticStyle:{"margin-bottom":"12px"},on:{click:function(a){e.clickLegend(t[0].text,n)}}},[a("span",{staticClass:"color",style:{"background-color":t.isActive?t[0]&&t[0].color:"#bbbbc8"}}),e._v(" "),a("p",{staticClass:"text",style:{color:t.isActive?"":"#bbbbc8"}},[e._v(e._s(t[0].text))])]),e._v(" "),a("div",{staticClass:"legend-group flex flex-center",on:{click:function(a){e.clickLegend(t[1].text,n)}}},[a("span",{staticClass:"color",style:{"background-color":t.isActive?t[1]&&t[1].color:"#bbbbc8"}}),e._v(" "),a("p",{staticClass:"text",style:{color:t.isActive?"":"#bbbbc8"}},[e._v(e._s(t[1].text))])])]):a("div",[a("div",{staticClass:"legend-group flex flex-center",on:{click:function(a){e.clickLegend(t.text,n)}}},[a("span",{staticClass:"color",style:{"background-color":t.isActive?t.color:"#bbbbc8"}}),e._v(" "),a("p",{staticClass:"text",style:{color:t.isActive?"":"#bbbbc8"}},[e._v(e._s(t.text))])])])])})),e._v(" "),a("icon-hover-and-active",{attrs:{"class-name":"page-arrow","default-url":e.icons.normal.right,"hover-url":e.icons.hover.right,"active-url":e.icons.active.right,show:e.legendDatas.length>e.pageSize},on:{clickFn:e.nextPage}})],1)},[],!1,null,"7d52dcfd",null));ae.options.__file="CurveLegend.vue";var ne=ae.exports,ie={name:"ModelOutput",components:{EchartContainer:x.a,PaginationTable:X,CurveLegend:ne,IconHoverAndActive:D},props:{metricOutputList:{type:Array,default:function(){return[]}},modelSummaryData:{type:Object,default:function(){return{tHeader:[],tBody:[]}}},role:{type:String,default:""},modelOutputType:{type:String,default:""},modelOutput:{type:Object,default:function(){return{}}},isNoModelOutput:{type:Boolean,default:!1},isNoMetricOutput:{type:Boolean,default:!1},isFullScreen:{type:Boolean,default:!1}},data:function(){return{binningSelectValue:"",oneHotSelectValue:"",stackBarInstance:null,treesLineInstance:null,variableImportanceInstance:null,echartInstanceList:[],lossInstanceList:[],isTreeBtnLikeLine:!0,woeInstance:null,imputerDataPage:1,outlierDataPage:1,binningType:"guest",selectionType:"guest",lazyBinningType:"guest",treeInstance:null,treeId:"",treesValue:0,hostEchartsHiddenBeforeHaveData:!1,hostEchartsHiddenBeforeHaveDatas:!1,evaluationOutputTypeListArr:["ROC","K-S","Lift","Gain","Precision Recall","Accuracy"],dataIoOulierHeader:[{prop:"variable",label:"variable"},{prop:"ratio",label:"outlier value ratio"},{prop:"value",label:"fill_value"}],oneHotHeader:[{prop:"value",label:"value"},{prop:"encoded_vector",label:"encoded_vector"}],lrHeader:[{prop:"variable",label:"variable"},{prop:"weight",label:"weight"}],scaleHeader:[{prop:"variable",label:"variable"},{prop:"columnLower",label:"columnLower"},{prop:"columnUpper",label:"columnUpper"},{prop:"mean",label:"mean"},{prop:"std",label:"std"}],dataIoImputerHeader:[{prop:"variable",label:"variable"},{prop:"ratio",label:"imputer value ratio"},{prop:"value",label:"fill_value"}],binningSummaryHeader:[{prop:"variable",label:"variable"},{prop:"iv",label:"IV"},{prop:"monotonicity",label:"monotonicity"}],binningHeader:[{prop:"binning",label:"binning"},{prop:"iv",label:"iv"},{prop:"woe",label:"woe"},{prop:"event_count",label:"event_count"},{prop:"event_ratio",label:"event_ratio"},{prop:"non_event_count",label:"non_event_count"},{prop:"non_event_ratio",label:"non_event_ratio"}]}},computed:m()({},Object(ee.b)(["modelNameMap","metricTypeMap","currentCvTab","evaluationFlags","evaluationInstances","treesColor","icons"]),{boostSpectrumStyle:function(){if(!this.modelOutput.treesOverviewData||0===this.modelOutput.treesOverviewData.length)return"";var e=this.modelOutput.treesOverviewData;if(e.length>1){var t=100/(e.length-1),a=0,n=0;this.modelOutput.treesOverviewData.forEach(function(e,t){var i=e.size;0===t?a=n=i:(i>a&&(a=i),i<n&&(n=i))});var i=a-n,r=this.treesColor[this.treesValue||0],o="";return this.modelOutput.treesOverviewData.forEach(function(e,a,s){o+="rgba("+r+","+function(e){return i>0?(e-n)/i+.1:1}(e.size)+") "+t*a+"%",a<s.length-1&&(o+=", ")}),{background:"linear-gradient(to right,"+o+")"}}return{background:"rgba(73,78,206,0.05)"}},calcTreeSize:function(){var e=this.modelOutput.currentTreeData.size,t=this.modelOutput.currentTreeData.maxDepth,a="100%",n="100%";return t>3&&(n="calc(100% + "+e*t+" * 15px"),t>5&&(a="calc(100% + "+(t-5)+" * 50px"),{width:n,height:a}},evaluationOutputTypeList:function(){var e=[];return this.evaluationInstances.forEach(function(t){t.type&&-1===e.indexOf(t.type)&&e.push(t.type)}),this.evaluationOutputTypeListArr.filter(function(t){return-1!==e.indexOf(t)})},modelSummaryCollapsedMsg:function(){var e={},t=[],a=JSON.parse(o()(this.modelSummaryData.tBody)),n=!0,i=!1,r=void 0;try{for(var s,l=L()(a);!(n=(s=l.next()).done);n=!0){var c=s.value;e[c.metric_namespace]||(e[c.metric_namespace]=[]),e[c.metric_namespace].push(c)}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}for(var p in e)e[p]=this.sortOfByName(e[p],"metric_name");for(var u in e)t=K()(t,e[u]);return t},haveDataTypeList:function(){var e=this;return this.evaluationOutputTypeList.filter(function(t,a){return!0===e.evaluationFlags[a]})},lossList:function(){var e=this;return this.evaluationInstances.filter(function(t){return t.type===e.metricTypeMap.loss})},currentbinningData:function(){return"guest"===this.binningType?"data":"hostData"},modelSummaryTitle:function(){return this.modelOutputType===this.modelNameMap.evaluation?"Evaluation scores":"Validation scores"},filterScaleHeader:function(){return this.metricOutputList[0]&&"min_max_scale"===this.metricOutputList[0].scaleMethod?this.scaleHeader.slice(0,3):this.scaleHeader},countingModel:function(){return this.modelOutputType===this.modelNameMap.selection&&this.filterSelectionHeader(),JSON.parse(o()(this.modelOutput))}}),mounted:function(){},beforeUpdate:function(){},updated:function(){if(this.modelOutputType===this.modelNameMap.binning&&this.modelOutput){(this.modelOutput[this.currentbinningData].options&&!this.binningSelectValue||this.lazyBinningType!==this.binningType)&&(this.lazyBinningType=this.binningType,this.binningSelectValue=this.modelOutput[this.currentbinningData].options[0].value);var e=this.modelOutput[this.currentbinningData].stackBarData[this.binningSelectValue],t=this.modelOutput[this.currentbinningData].woeData[this.binningSelectValue],a=!0,n=!0,i=!0,r=!1,o=void 0;try{for(var s,l=L()(e.series);!(i=(s=l.next()).done);i=!0){var c=s.value;if(!c.data||0===d()(c.data).length){a=!1;break}}}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}var p=!0,u=!1,h=void 0;try{for(var f,g=L()(t.series);!(p=(f=g.next()).done);p=!0){var m=f.value;if(!m.data||0===d()(m.data).length){n=!1;break}}}catch(e){u=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(u)throw h}}a&&(this.hostEchartsHiddenBeforeHaveData=!0,this.stackBarInstance&&this.stackBarInstance.setOption(e,!0)),n&&(this.hostEchartsHiddenBeforeHaveDatas=!0,this.woeInstance&&this.woeInstance.setOption(t,!0))}this.modelOutputType===this.modelNameMap.oneHot&&this.modelOutput&&this.modelOutput.options&&!this.oneHotSelectValue&&(this.oneHotSelectValue=this.modelOutput.options[0].value)},methods:{changeBinning:function(e){this.binningSelectValue=e;var t=this.modelOutput[this.currentbinningData].stackBarData[e],a=this.modelOutput[this.currentbinningData].woeData[e],n=!0,i=!0,r=!0,o=!1,s=void 0;try{for(var l,c=L()(t.series);!(r=(l=c.next()).done);r=!0){var p=l.value;if(!p.data||0===d()(p.data).length){n=!1;break}}}catch(e){o=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw s}}var u=!0,h=!1,f=void 0;try{for(var g,m=L()(a.series);!(u=(g=m.next()).done);u=!0){var v=g.value;if(!v.data||0===d()(v.data).length){i=!1;break}}}catch(e){h=!0,f=e}finally{try{!u&&m.return&&m.return()}finally{if(h)throw f}}n&&(this.hostEchartsHiddenBeforeHaveData=!0,this.stackBarInstance.setOption(t,!0)),i&&(this.hostEchartsHiddenBeforeHaveDatas=!0,this.woeInstance.setOption(a,!0))},changeOneHot:function(e){},getStackBarInstance:function(e){this.stackBarInstance=e},getVariableImportanceInstance:function(e){this.variableImportanceInstance=e},getWoeInstance:function(e){this.woeInstance=e},getTreeInstance:function(e){this.treeInstance=e},initData:function(){this.treeId="",this.treesValue=0},getTreesLineInstance:function(e){var t=this,a=this;e.getZr().on("click",function(n){var i=[n.offsetX,n.offsetY];if(e.containPixel("grid",i)){var r=0;r=1===a.modelOutput.treesOverviewData.length?0:Math.round(e.convertFromPixel({seriesIndex:0},[n.offsetX,n.offsetY])[0]),t.clickTreesLine(r)}}),this.treesLineInstance=e},clickTreesLine:function(e){var t=this.modelOutput;if(t.currentTreeData.id!==e){var a=t.treesOverviewData[e];t.currentTreeData.id=e,t.currentTreeData.size=a.size,t.currentTreeData.maxDepth=a.maxDepth,t.treeOptions.series.data=a.data;var n=this.treesLineInstance.getOption(),i=t.maxTreeSize;n.series[0].markLine.data[0]=[{coord:[e,0]},{coord:[e,i]}],this.treeInstance.setOption(t.treeOptions,!0),this.treesLineInstance.setOption(n,!0)}},handlePageChange:function(e){e.page},selectionCellClassName:function(e){var t=e.row,a=e.column;e.rowIndex,e.columnIndex;if(!this.modelOutput[this.selectionType+"Header"])return 0;var n="selection-default",i=a.property;return"index"!==a.type&&(t[i+"_disable"]?n+=" selection-none":n+=" selection-disabled"),n},changeCvTab:function(e){this.$store.dispatch("ChangeCvTab",e);var t=Object(v.b)(this.evaluationFlags);t[e]||(t[e]=!0,this.$store.dispatch("SetCvFlags",t))},enterTreeId:function(){var e=j()(this.treeId);isNaN(e)?this.$message({type:"warning",message:"please enter a number"}):e>=0&&e<=this.modelOutput.treesOverviewData.length-1?this.clickTreesLine(e):this.$message({type:"warning",message:"this id is not exist"})},changeBoostTrees:function(e,t){var a=0;this.modelOutput.allTreesLineSeriesData[e].forEach(function(e){e[1]>a&&(a=e[1])}),this.modelOutput.maxTreeSize=a;var n=this.modelOutput.treeOptions,i=this.treesColor[e%this.treesColor.length];if(this.modelOutput.allTreesOverviewData&&(n.series.data=this.modelOutput.allTreesOverviewData[e][0].data,this.modelOutput.treesOverviewData=this.modelOutput.allTreesOverviewData[e]),n.series.label.backgroundColor="rgb("+i+")",n.series.leaves.label.backgroundColor="rgba("+i+",0.6)",this.swithTreeBtn("rgb("+i+")",!1),this.treeInstance.setOption(n,!0),this.treesLineInstance){var r=this.treesLineInstance.getOption();this.modelOutput.allTreesLineSeriesData&&(r.series[0].data=this.modelOutput.allTreesLineSeriesData[e]),this.isTreeBtnLikeLine?(r.backgroundColor="transparent",r.color="transparent",r.tooltip[0].backgroundColor="#fff",r.tooltip[0].textStyle.color="rgb("+i+")",r.tooltip[0].axisPointer.lineStyle.color="#FF9A4D"):(r.backgroundColor="#f8f8fa",r.color="#FF8800",r.tooltip[0].backgroundColor="rgb("+i+")",r.tooltip[0].textStyle.color="#fff",r.tooltip[0].axisPointer.lineStyle.color="rgb("+i+")"),r.series[0].markLine.data[0]=[{coord:[0,0]},{coord:[0,a]}],this.modelOutput.currentTreeData.id=0,this.modelOutput.currentTreeData.size=this.modelOutput.allTreesOverviewData[e][0].size,this.modelOutput.currentTreeData.maxDepth=this.modelOutput.allTreesOverviewData[e][0].maxDepth,this.treesLineInstance.setOption(r,!0)}},swithTreeBtn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#494ece",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.treesLineInstance){var a=this.treesLineInstance.getOption();if(this.isTreeBtnLikeLine){if(a.backgroundColor="#f8f8fa",a.color="#FF8800",a.tooltip[0].backgroundColor=e,a.tooltip[0].textStyle.color="#fff",a.tooltip[0].axisPointer.lineStyle.color=e,1===this.modelOutput.treesOverviewData.length){var n=this.treesLineInstance.getDom().children[0].getAttribute("style");n+="border-bottom:2px solid #ff8800;",this.treesLineInstance.getDom().children[0].setAttribute("style",n)}}else if(a.backgroundColor="transparent",a.color="transparent",a.tooltip[0].backgroundColor="#fff",a.tooltip[0].textStyle.color=e,a.tooltip[0].axisPointer.lineStyle.color="#FF9A4D",1===this.modelOutput.treesOverviewData.length){var i=this.treesLineInstance.getDom().children[0].getAttribute("style");i=i.replace("border-bottom:2px solid #ff8800;",""),this.treesLineInstance.getDom().children[0].setAttribute("style",i)}this.treesLineInstance.setOption(a,!0)}t&&(this.isTreeBtnLikeLine=!this.isTreeBtnLikeLine)},EchartInstancesResize:function(){this.echartInstanceList.forEach(function(e){e.instance.resize()}),this.lossInstanceList.forEach(function(e){e.instance.resize()}),this.woeInstance&&this.woeInstance.resize(),this.stackBarInstance&&this.stackBarInstance.resize(),this.treeInstance&&this.treeInstance.resize(),this.treesLineInstance&&this.treesLineInstance.resize(),this.variableImportanceInstance&&this.variableImportanceInstance.resize()},summarySpanMethod:function(e){e.row,e.column,e.rowIndex,e.columnIndex},clearEchartInstance:function(){this.echartInstanceList=[],this.lossInstanceList=[]},clickLegend:function(e){var t=e.curveName,a=e.evaluationListIndex,n=e.instanceList;t=t.replace(/(_tpr|_fpr|_precision|_recall)/g,"");for(var i=-1,r=0;r<n.length;r++){if(n[r].legendIndex===a){i=r;break}}if(-1!==i){for(var o=n[i].instance,s=o.getOption(),l=s.series,c=0;c<l.length;c++){var p=l[c],u=p.name.replace(/(_tpr|_fpr|_precision|_recall)/g,"");(u===t||!u&&t===p.pairType)&&(p.itemStyle&&(p.itemStyle.opacity=1===p.itemStyle.opacity?0:1),p.lineStyle&&(p.lineStyle.opacity=1===p.lineStyle.opacity?0:1),p.areaStyle&&(p.areaStyle.opacity=.1===p.areaStyle.opacity?0:.1))}o.setOption(s)}},getEchartInstance:function(e,t){this.echartInstanceList.push({instance:e,legendIndex:t})},getLossInstance:function(e,t){this.lossInstanceList.push({instance:e,legendIndex:t})},testExport:function(){var e=this.modelOutput,t=this.selectionType,a=e[t+"Header"],n=e[t+"Body"];Object(v.c)({header:a,data:n})},sortOfByName:function(e,t){return e.sort(function(e,a){var n="",i="";if(Array.isArray(e[0]))n=e[0][t].match(/[0-9]+/g),i=a[0][t].match(/[0-9]+/g);else{if(!(e instanceof Object))return 0;n=e[t].match(/[0-9]+/g),i=a[t].match(/[0-9]+/g)}if(!n||!i)return 0;for(var r=0;r<Math.max(n.length,i.length);r++)if(n[r]&&i[r]){if(parseInt(n[r])>parseInt(i[r]))return 1;if(parseInt(n[r])<parseInt(i[r]))return-1}else{if(!n[r])return 1;if(!i[r])return-1}}),e},filterHeader:function(){if("host"===this.role){for(var e=!1,t=0;t<this.binningSummaryHeader.length;t++)if("binding"===this.binningSummaryHeader[t].prop){e=!0;break}e||this.binningSummaryHeader.splice(1,0,{prop:"binding",label:"anonym in guest"})}return this.binningSummaryHeader},filterSelectionHeader:function(){if("host"===this.role){for(var e=!1,t=0;t<this.modelOutput.guestHeader.length;t++)if("binding"===this.modelOutput.guestHeader[t].prop){e=!0;break}e||this.modelOutput.guestHeader.splice(1,0,{prop:"binding",label:"anonym in guest"})}}}},re=(a("VF0w"),Object(_.a)(ie,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[e.isNoMetricOutput&&e.isNoModelOutput?a("div",{staticClass:"no-data"},[e._v("No data")]):e._e(),e._v(" "),a("ul",e._l(e.metricOutputList,function(t,n){return a("li",{key:n},["text"===t.type?a("div",{staticClass:"flex"},[a("p",{staticClass:"model-text",domProps:{innerHTML:e._s(t.data)}})]):e._e(),e._v(" "),"table"===t.type?a("div",{staticClass:"flex"},[a("el-table",{attrs:{data:t.data.tBody,"highlight-current-row":"",fit:"",border:""}},[t.index?a("el-table-column",{attrs:{label:t.index.label,type:"index",width:"100px",align:"center"}}):e._e(),e._v(" "),e._l(t.data.tHeader,function(e,t){return a("el-table-column",{key:t,attrs:{label:e.label,prop:e.prop,align:"center"}})})],2)],1):e._e()])})),e._v(" "),e.modelOutputType&&e.modelOutput&&!e.isNoModelOutput?a("div",{staticClass:"line-height-between"},[e.modelOutputType===e.modelNameMap.boost?a("div",[a("div",{staticClass:"boost-wrapper"},[a("div",{staticClass:"boost-top flex flex-center space-between"},[a("div",{staticClass:"flex flex-center"},[a("span",{staticClass:"boost-text"},[e._v("Tree")]),e._v(" "),a("div",[e.modelOutput.classOptions?a("span",[e._v("label_index: ")]):e._e(),e._v(" "),e.modelOutput.classOptions?a("el-select",{on:{change:e.changeBoostTrees},model:{value:e.treesValue,callback:function(t){e.treesValue=t},expression:"treesValue"}},e._l(e.modelOutput.classOptions,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})):e._e()],1)]),e._v(" "),a("div",{staticClass:"flex flex-center"},[a("el-input",{staticClass:"query",attrs:{type:"text",placeholder:"tree Id"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enterTreeId(t):null}},model:{value:e.treeId,callback:function(t){e.treeId=t},expression:"treeId"}},[a("img",{staticClass:"icon-query",attrs:{slot:"suffix",src:e.icons.normal.query,alt:""},on:{click:e.enterTreeId},slot:"suffix"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isTreeBtnLikeLine,expression:"isTreeBtnLikeLine"}],staticClass:"spectrum-wrapper flex flex-center"},[a("span",[e._v("tree size: max")]),e._v(" "),a("span",{staticClass:"spectrum-bar",style:{background:"linear-gradient(to right,rgba("+e.treesColor[e.treesValue]+",1), rgba("+e.treesColor[e.treesValue]+",0.1))"}}),e._v(" "),a("span",[e._v("min")])]),e._v(" "),a("icon-hover-and-active",{attrs:{"class-name":"boost-switch-btn","default-url":e.isTreeBtnLikeLine?e.icons.normal["tree-line"]:e.icons.normal["tree-spectrum"],"hover-url":e.isTreeBtnLikeLine?e.icons.hover["tree-line"]:e.icons.hover["tree-spectrum"],"active-url":e.isTreeBtnLikeLine?e.icons.hover["tree-line"]:e.icons.hover["tree-spectrum"]},on:{clickFn:function(t){e.swithTreeBtn("rgb("+e.treesColor[e.treesValue]+")")}}})],1)]),e._v(" "),a("div",{staticClass:"boost-trees",style:e.boostSpectrumStyle},[a("echart-container",{class:{"w-100":!0,"h-100":!0},attrs:{options:e.modelOutput.treesLineData},on:{getEchartInstance:e.getTreesLineInstance}})],1),e._v(" "),a("div",{staticClass:"flex"},[a("span",{staticClass:"boost-text"},[e._v("Tree ID: "+e._s(e.modelOutput.currentTreeData.id))]),e._v(" "),a("span",{staticClass:"boost-text"},[e._v("Tree Size: "+e._s(e.modelOutput.currentTreeData.size))])]),e._v(" "),a("div",{staticClass:"tree-container pos-r overflow-hidden"},[a("div",{directives:[{name:"drag",rawName:"v-drag"},{name:"scale",rawName:"v-scale"}],staticClass:"pos-a",style:e.calcTreeSize},[a("echart-container",{class:["w-100","h-100"],attrs:{options:e.modelOutput.treeOptions},on:{getEchartInstance:e.getTreeInstance}})],1)])]),e._v(" "),e.modelOutput.variableImportanceOptions?a("div",{staticClass:"boost-wrapper"},[a("div",{staticClass:"variable-importance-wrapper"},[a("h3",{staticStyle:{"margin-bottom":"10px"}},[e._v("Feature Importance")]),e._v(" "),a("div",{staticClass:"w-100",style:{height:40*e.modelOutput.variableImportanceOptions.yAxis[0].data.length+"px"}},[a("echart-container",{class:"wh-100",attrs:{options:e.modelOutput.variableImportanceOptions},on:{getEchartInstance:e.getVariableImportanceInstance}})],1)])]):e._e()]):e.modelOutputType===e.modelNameMap.dataIO?a("div",[e.modelOutput.imputerData?a("div",[e._m(0),e._v(" "),a("pagination-table",{attrs:{"table-data":e.modelOutput.imputerData,"page-size":10,header:e.dataIoImputerHeader}})],1):e._e(),e._v(" "),e.modelOutput.outlierData?a("div",[e._m(1),e._v(" "),a("pagination-table",{attrs:{"table-data":e.modelOutput.outlierData,"page-size":10,header:e.dataIoOulierHeader}})],1):e._e()]):e.modelOutputType===e.modelNameMap.scale?a("div",[a("pagination-table",{attrs:{"table-data":e.modelOutput.tBody,"page-size":10,header:e.filterScaleHeader}})],1):e.modelOutputType===e.modelNameMap.homoLR||e.modelOutputType===e.modelNameMap.heteroLR||e.modelOutputType===e.modelNameMap.heteroLinR||e.modelOutputType===e.modelNameMap.homoNN||e.modelOutputType===e.modelNameMap.poisson?a("div",{staticClass:"line-height-between"},[a("p",{staticClass:"model-text",staticStyle:{"margin-bottom":"0"}},[e._v("max iterations: "+e._s(e.modelOutput.iters))]),e._v(" "),a("p",{staticClass:"model-text"},[e._v("converged: "+e._s(e.modelOutput.isConverged))]),e._v(" "),a("pagination-table",{attrs:{"table-data":e.modelOutput.tData,"page-size":10,header:e.lrHeader}})],1):e.modelOutputType===e.modelNameMap.selection?a("div",[e.modelOutput.hostBody&&e.modelOutput.hostBody.length>0?a("div",{staticClass:"flex flex-end",staticStyle:{"margin-bottom":"24px"}},[a("el-radio",{attrs:{label:"guest"},model:{value:e.selectionType,callback:function(t){e.selectionType=t},expression:"selectionType"}},[e._v("guest")]),e._v(" "),a("el-radio",{attrs:{label:"host"},model:{value:e.selectionType,callback:function(t){e.selectionType=t},expression:"selectionType"}},[e._v("host")])],1):e._e(),e._v(" "),a("el-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:e.countingModel[e.selectionType+"Body"],"cell-class-name":e.selectionCellClassName,"highlight-current-row":"",fit:"",border:"","empty-text":"No data","element-loading-text":"Loading",height:"55vh"}},[a("el-table-column",{attrs:{type:"index",label:"index",width:"100",align:"center"}}),e._v(" "),e._l(e.countingModel[e.selectionType+"Header"],function(e,t){return a("el-table-column",{key:t,attrs:{label:e.label,prop:e.prop,align:"center","show-overflow-tooltip":""}})})],2)],1):e.modelOutputType===e.modelNameMap.oneHot?a("div",[a("el-select",{attrs:{"no-data-text":"no data",placeholder:""},on:{change:e.changeOneHot},model:{value:e.oneHotSelectValue,callback:function(t){e.oneHotSelectValue=t},expression:"oneHotSelectValue"}},e._l(e.modelOutput.options,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),e.oneHotSelectValue?a("div",{staticStyle:{"margin-top":"20px"}},[a("pagination-table",{attrs:{"table-data":e.modelOutput.variableData[e.oneHotSelectValue],"page-size":10,header:e.oneHotHeader}})],1):e._e()],1):e.modelOutputType===e.modelNameMap.binning?a("div",["guest"===e.role?a("div",{staticClass:"flex flex-end",staticStyle:{"margin-bottom":"24px"}},[a("el-radio",{attrs:{label:"guest"},model:{value:e.binningType,callback:function(t){e.binningType=t},expression:"binningType"}},[e._v("guest")]),e._v(" "),a("el-radio",{attrs:{label:"host"},model:{value:e.binningType,callback:function(t){e.binningType=t},expression:"binningType"}},[e._v("host")])],1):e._e(),e._v(" "),a("pagination-table",{attrs:{"table-data":e.countingModel[e.currentbinningData].sourceData,"page-size":10,header:e.filterHeader()}}),e._v(" "),a("div",{staticStyle:{border:"1px solid #eee",padding:"30px","margin-top":"25px"}},[a("el-select",{on:{change:e.changeBinning},model:{value:e.binningSelectValue,callback:function(t){e.binningSelectValue=t},expression:"binningSelectValue"}},e._l(e.countingModel[e.currentbinningData].options,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),e._v(" "),e.binningSelectValue?a("div",{staticStyle:{"margin-top":"20px"}},[a("pagination-table",{attrs:{"table-data":e.countingModel[e.currentbinningData].variableData[e.binningSelectValue],"page-size":10,header:e.binningHeader}})],1):e._e()],1),e._v(" "),e.hostEchartsHiddenBeforeHaveData?a("echart-container",{class:e.isFullScreen?"full-screen-echart":"echart",on:{getEchartInstance:e.getStackBarInstance}}):e._e(),e._v(" "),e.hostEchartsHiddenBeforeHaveDatas?a("echart-container",{class:e.isFullScreen?"full-screen-echart":"echart",on:{getEchartInstance:e.getWoeInstance}}):e._e()],1):e._e()]):e._e(),e._v(" "),e.lossList.length>0?a("ul",{staticClass:"cv-wrapper line-height-between"},e._l(e.lossList,function(t,n){return a("li",{key:n},[a("div",{staticClass:"w-100 overflow-hidden"},[a("div",{staticClass:"cv-top flex flex-center space-between"},[a("div",{staticClass:"flex flex-center"},[a("h3",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(t.type))]),e._v(" "),a("p",[e._v(e._s(t.nameSpace))])]),e._v(" "),a("curve-legend",{attrs:{"legend-data":t.legendData,"instance-index":n,"instance-list":e.lossInstanceList},on:{clickLegend:e.clickLegend}})],1),e._v(" "),a("echart-container",{class:[e.isFullScreen?"full-screen-echart":"echart"],attrs:{options:t.data,"legend-index":n},on:{getEchartInstance:e.getLossInstance}})],1)])})):e._e(),e._v(" "),e.modelSummaryData.tHeader.length>0&&e.modelSummaryCollapsedMsg.length>0?a("div",{staticStyle:{"margin-bottom":"20px"}},[a("h3",{staticStyle:{"margin-bottom":"20px"}},[e._v(e._s(e.modelSummaryTitle))]),e._v(" "),a("el-table",{attrs:{data:e.modelSummaryCollapsedMsg,"span-method":e.summarySpanMethod,"highlight-current-row":"",fit:"",border:"","empty-text":"NO DATA"}},e._l(e.modelSummaryData.tHeader,function(e,t){return a("el-table-column",{key:t,attrs:{label:e.label,prop:e.prop,align:"center","show-overflow-tooltip":""}})}))],1):e._e(),e._v(" "),e.evaluationOutputTypeList.length>1?a("ul",{staticClass:"cv-tab-list flex flex-center line-height-between"},e._l(e.evaluationOutputTypeList,function(t,n){return a("li",{key:n,class:{active:e.currentCvTab===n},on:{click:function(t){e.changeCvTab(n)}}},[e._v(e._s(t)+"\n    ")])})):e._e(),e._v(" "),e.evaluationInstances.length>0?a("ul",{staticClass:"cv-wrapper line-height-between"},e._l(e.evaluationInstances,function(t,n){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.type===e.evaluationOutputTypeList[e.currentCvTab],expression:"output.type === evaluationOutputTypeList[currentCvTab]"}],key:n},[-1!==e.haveDataTypeList.indexOf(t.type)?a("div",{staticClass:"w-100 overflow-hidden"},[a("div",{staticClass:"cv-top flex flex-center space-between"},[a("div",{staticClass:"flex flex-center"},[a("h3",{staticStyle:{"margin-right":"20px"}},[e._v(e._s(t.type))]),e._v(" "),a("p",[e._v(e._s(t.nameSpace))])]),e._v(" "),a("curve-legend",{attrs:{"legend-data":t.legendData,"instance-index":n,"instance-list":e.echartInstanceList},on:{clickLegend:e.clickLegend}})],1),e._v(" "),a("echart-container",{class:[e.isFullScreen?"full-screen-echart":"echart"],attrs:{options:t.data,"legend-index":n},on:{getEchartInstance:e.getEchartInstance}})],1):e._e()])})):e._e()])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex flex-center space-between",staticStyle:{padding:"10px"}},[t("h2",[this._v("Missing Fill Detail")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex flex-center space-between",staticStyle:{padding:"10px"}},[t("h2",[this._v("Outlier Replace Detail")])])}],!1,null,null,null));re.options.__file="ModelOutput.vue";var oe=re.exports,se={name:"DataOutput",components:{Pagination:Y.a},props:{tHeader:{type:Array,default:function(){return[]}},tBody:{type:Array,default:function(){return[]}},noData:{type:Boolean,default:!1}},data:function(){return{page:1,skip:"",pageSize:10,paginationPage:1}},computed:{totalArray:function(){for(var e=[],t=1;t<=this.total;t++)e.push(t);return e},total:function(){return Math.ceil(this.tHeader.length/this.pageSize)},header:function(){return this.sliceArray(this.tHeader)}},mounted:function(){},methods:{redefinedPage:function(){this.page=1},sliceArray:function(e){for(var t=0,a=[];t<e.length;)a.push(e.slice(t,t+=this.pageSize));return a},changePage:function(e){this.page=e}}},le=(a("OsHm"),Object(_.a)(se,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[e.tBody.length>0&&e.tHeader.length>0?a("div",[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.tBody,"highlight-current-row":"",border:"","element-loading-text":"Loading",size:"mini",height:"550"}},[a("el-table-column",{attrs:{type:"index",label:"index",width:"80",align:"center"}}),e._v(" "),e._l(e.header[e.page-1],function(e,t){return a("el-table-column",{key:t,attrs:{label:e.label,prop:e.prop,fit:"","empty-text":"No data",align:"center","show-overflow-tooltip":""}})})],2),e._v(" "),a("div",{staticClass:"flex flex-end"},[a("el-pagination",{attrs:{total:e.tHeader.length,"current-page":e.page,"page-size":e.pageSize,background:"",layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.page=t},"current-change":e.changePage}})],1)],1):e.noData?a("div",{staticClass:"no-data"},[e._v("No data")]):e._e()])},[],!1,null,null,null));le.options.__file="DataOutput.vue";var ce=le.exports,pe=a("lAiS"),ue=a("O8Vv"),de={name:"JobDtails",components:{EchartContainer:x.a,ModelOutput:oe,DataOutput:ce,IconHoverAndActive:D,Dag:ue.a},data:function(){return{jobId:this.$route.query.job_id,role:this.$route.query.role,partyId:this.$route.query.party_id,jobFrom:this.$route.query.from,summaryLoading:!0,msgLoading:!1,paramList:[],fullscreen:!1,roleList:[],jobInfo:{},componentName:"",logLoading:!1,dagInstance:null,graphOptions:pe.a,treeOptions:z,doubleBarOptions:H,outputGraphOptions:pe.a,paraLoading:!1,DAGData:null,modelSummaryData:{tHeader:[],tBody:[]},outputVisible:!1,metricOutputList:[],modelOutputType:"",modelOutputData:null,dataOutputHeader:[],dataOutputBody:[],dataOutputNoData:!1,isNoMetricOutput:!1,metricLoading:!1,modelLoading:!1,isNoModelOutput:!1,outputTitle:"",currentTab:"model",logList:[],logWebsocket:null,timer:null}},computed:m()({},Object(ee.b)(["modelNameMap","metricTypeMap","icons","evaluationInstances"])),mounted:function(){var e=this,t={job_id:this.jobId,role:this.role,party_id:this.partyId};this.getDatasetInfo(),Object(b.c)(t).then(function(t){e.DAGData=t.data}),this.timer=setInterval(function(){e.getDatasetInfo(),Object(b.c)(t).then(function(t){e.DAGData=t.data})},5e3)},beforeDestroy:function(){this.closeWebsocket(),clearInterval(this.timer)},methods:{getDatasetInfo:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],{job_id:this.jobId,role:this.role,party_id:this.partyId});Object(b.d)(t).then(function(t){e.summaryLoading=!1;var a=[],n=t.data,i=n.job,r=n.dataset;if(r){var o=r.roles,s=r.dataset;f()(o).forEach(function(t){var n=[];o[t].forEach(function(e){var a="";s[t]&&(a=d()(s[t][e]).join(", ")),n.push({name:e,dataset:a})}),a.push({role:t.toUpperCase(),datasetList:n}),e.roleList=a})}i&&(e.jobInfo={submmissionTime:i.fCreateTime?Object(v.g)(new Date(i.fCreateTime)):"",startTime:i.fStartTime?Object(v.g)(new Date(i.fStartTime)):"",endTime:i.fEndTime?Object(v.g)(new Date(i.fEndTime)):"",duration:i.fElapsed?Object(v.e)(i.fElapsed):"",status:i.fStatus?i.fStatus:""})})},toPrevPage:function(){var e=null;"Job overview"===this.jobFrom?e="/history":"Dashboard"===this.jobFrom&&(e="/dashboard"),this.$router.push({path:e,query:{job_id:this.jobId,role:this.role,party_id:this.partyId}})},getGraphEchartInstance:function(e){var t=this;this.dagInstance=e;var a=null;a=window.setInterval(function(){if(t.DAGData){window.clearInterval(a);var n=Object(I.a)(t.DAGData),i=n.dataList,r=n.linksList;t.graphOptions.series[0].data=i,t.graphOptions.series[0].links=r,e.setOption(t.graphOptions,!0),e.on("click",{dataType:"node"},function(e){t.clickComponent(e.name,e.dataIndex,e.data.componentType)})}},100)},getDagInstance:function(e){this.clickComponent(e.name,e.dataIndex,e.model,e.disable)},clickComponent:function(e,t,a,n){this.componentName=e,this.modelOutputType=a||"",this.outputTitle=this.modelOutputType?a+": "+e:"",n?(this.paramList=[[{isObjKey:!0,level:0,value:"NO DATA"}]],this.componentName=!1):this.getParams(e)},clickComponentChangeStyle:function(e,t){e.forEach(function(e){e.label=e.sourceLabel}),e[t].label={color:"#fff",backgroundColor:"#494ece"}},visualization:function(){this.initOutput(),this.getMetrics(this.componentName),this.getModelOutput(this.componentName),this.outputVisible=!0},initOutput:function(){this.metricOutputList=[],this.$store.dispatch("SetCurveInstances",[]),this.$refs.dialog&&this.$refs.dialog.clearEchartInstance(),this.$refs.dataoutputdialog&&this.$refs.dataoutputdialog.redefinedPage(),this.isNoMetricOutput=!1,this.isNoModelOutput=!1,this.metricLoading=!1,this.modelLoading=!1,this.modelOutputData=null,this.fullscreen=!1,this.modelSummaryData={tHeader:[],tBody:[]},this.dataOutputHeader=[],this.dataOutputBody=[],this.dataOutputNoData=!1,this.currentTab="model",this.logList=[],this.$store.dispatch("InitModelOutput"),this.closeWebsocket(),this.$refs.dialog&&(this.$refs.dialog.isTreeBtnLikeLine=!0)},switchLogTab:function(e){var t=this;this.currentTab=e,"data"===e&&0===this.dataOutputHeader.length&&this.getDataOutput(this.componentName),"log"!==e||this.logWebsocket||(this.logWebsocket=Object(v.f)("/log/"+this.jobId+"/"+this.role+"/"+this.partyId+"/"+this.componentName+"/default",function(e){},function(e){var a=JSON.parse(e.data);Array.isArray(a)?a.length>0&&(t.logList=[].concat(p()(t.logList),p()(a))):t.logList.push(a)}))},logOnMousewheel:function(e){var t=this,a=this.logList[0];if(a){var n=a.lineNum-1;if(n>0){if(0===this.$refs.logView.scrollTop&&(e.wheelDelta>0||e.detail>0)){var i=n-1e3>1?n-1e3:1;if(!this.logLoading){this.logLoading=!0;window.setTimeout(function(){Object(b.g)({componentId:t.componentName,job_id:t.jobId,role:t.role,party_id:t.partyId,begin:i,end:n}).then(function(e){var a=[];e.data.map(function(e){a.push(e)}),t.logList=[].concat(a,p()(t.logList)),t.logLoading=!1}).catch(function(){t.logLoading=!1})},1e3)}}}}},closeWebsocket:function(){this.logWebsocket&&(this.logWebsocket.close(),this.logWebsocket=null)},dialogFullScreen:function(){var e=this;this.fullscreen=!this.fullscreen,setTimeout(function(){e.$refs.dialog.EchartInstancesResize()},100)},getParams:function(e){var t=this,a={job_id:this.jobId,role:this.role,party_id:this.partyId,component_name:e};this.paraLoading=!0,Object(b.b)(a).then(function(e){t.paraLoading=!1;var a=JSON.parse(e.data),n=[];l()(a).forEach(function(e){var a=e[0],i=e[1],r=[];t.formatParams(a,i,0,r),"module"===a?n.unshift(r):n.push(r)}),t.paramList=n}).catch(function(){t.paraLoading=!1,t.paramList=[[{isObjKey:!0,level:0,value:"NO DATA"}]]})},formatParams:function(e,t,a,n){var i=this;t&&t.constructor===Object?(n.push({level:a,isObjKey:!0,value:e}),l()(t).forEach(function(e){var t=e[0],r=e[1];i.formatParams(t,r,a+1,n)})):(Array.isArray(t)&&(t=o()(t).replace(/\"/g,"")),null===t&&(t="null"),n.push({level:a,isObjKey:!1,value:e+": "+t}))},getMetrics:function(e){var t=this;this.metricLoading=!0,function(e){return Object(y.a)({url:"/v1/tracking/component/metrics",method:"post",data:e})}({job_id:this.jobId,role:this.role,party_id:this.partyId,component_name:e}).then(function(a){t.metricLoading=!1;var n=a.data;if(n&&f()(n).length>0){var r=[];f()(n).forEach(function(a,o){n[a].forEach(function(s,l){(function(e){return Object(y.a)({url:"/v1/tracking/component/metric_data",method:"post",data:e})})({job_id:t.jobId,role:t.role,party_id:t.partyId,component_name:e,metric_namespace:a,metric_name:s}).then(function(e){var n=e.data,o=n.data,l=n.meta;if(o&&l){var c=l.metric_type,p=l.unit_name,u=l.curve_name,h=l.pair_type,g=l.thresholds;c&&function(e){var t=e.metricOutputList,a=e.evaluationOutputList,n=e.data,r=e.metric_type,o=(e.modelOutputType,e.metric_namespace),s=e.metric_name,l=e.meta,c=e.unit_name,p=(e.name,e.curve_name),u=e.pair_type,h=e.modelSummaryData,g=e.thresholds,m="",b="",y=l.method;if(p=p&&p.replace(/(train_|validate_)/g,""),u=u&&u.replace(/(train_|validate_)/g,""),p=p&&p.replace(/(train\.|validate\.)/g,"fold_"),g=g||[],r===$.dataIOText);else if(r===$.sampleText)m="text",b=n[0][0]+": "+n[0][1];else if(r===$.scale)m="text",b="method: "+(l.method||"null");else if(r===$.sampleTable){m="table";var x=[];n.forEach(function(e){x.push({label:e[0],count:e[1]})}),b={tHeader:[{prop:"label",label:"label"},{prop:"count",label:"count"}],tBody:x,index:{label:"layer"}}}else if(r===$.intersection)m="text",n.forEach(function(e){b+=e[0]+": "+Object(v.d)(e[1])+"<br>"});else{if(r===$.Accuracy||r===$.Gain||r===$.Lift||r===$.ROC||r===$.RecallMulti||r===$.PrecisionMulti||r===$.loss){for(var w=f()($),_=0;_<w.length;_++)if(r===$[w[_]]){m=r===$.RecallMulti||r===$.PrecisionMulti?"Precision Recall":r===$.loss?$.loss:w[_];break}(b=Object(v.a)(V)).xAxis.name=c;var O={name:p,type:"line",smooth:!1,symbolSize:1,itemStyle:{opacity:1},lineStyle:{opacity:1},data:n,pair_type:u};if(r===$.Gain)b.yAxis.name="gain",b.tooltip.formatter=G("Threshold","Gain",null,g);else if(r===$.Accuracy)b.yAxis.name="accuracy",b.tooltip.formatter=G("Threshold","Accuracy",null,g);else if(r===$.Lift)b.yAxis.name="lift",b.tooltip.formatter=G("Threshold","Lift",null,g);else if(r===$.ROC)b.yAxis.name="tpr",O.areaStyle={color:"#494ece",opacity:.1},b.tooltip.formatter=function(e){var t="";return e.forEach(function(e){var a=g[e.dataIndex];(a||0===a)&&(t+="Threshold: "+a+"<br>"),t+="Tpr("+e.seriesName+"): "+e.data[1]+"<br>",t+="Fpr("+e.seriesName+"): "+e.axisValue+"<br>"}),t};else if(r===$.RecallMulti||r===$.PrecisionMulti){b.xAxis.name="class",b.xAxis.type="category",b.yAxis.name="precision, recall",b.tooltip.formatter=function(e){var t="",a=e[0].axisValue;return t+="Class: "+a+"<br>",e.forEach(function(e){var a=Array.isArray(e.data)?e.data[1]:e.data;t+=e.seriesName+": "+a+"<br>"}),t};var D=[],I=[];n.forEach(function(e){D.push(e[0]),I.push(e[1])}),b.xAxis.data=D,O.data=I,O.name=p}else r===$.loss&&(b.yAxis.name="loss",b.tooltip.formatter=function(e){var t="",a=e[0].axisValue;return t+="iteration: "+a+"<br>",e.forEach(function(e){var a=e.data[1];t+="loss("+e.seriesName+"): "+Object(v.d)(a)+"<br>"}),t});b.series.push(O);for(var S=function(e){var t=a[e];if(t.type&&t.type===m&&t.nameSpace===o){if(r===$.RecallMulti||r===$.PrecisionMulti)for(var n=0;n<t.data.series.length;n++){var i=t.data.series[n],s="",l=i.legendIndex,c={color:s=r===$.PrecisionMulti?W[l]:U[l],text:p};if(i.pair_type&&i.pair_type===u)return r===$.PrecisionMulti?t.legendData[l].unshift(c):t.legendData[l].push(c),O.itemStyle.color=s,t.data.series.push(O),{v:void 0}}var d=W[t.data.series.length]||J(t.data.series.length);if(O.itemStyle.color=d,r===$.RecallMulti||r===$.PrecisionMulti){var h=t.legendData.length,f="";f=r===$.PrecisionMulti?W[h]:U[h],O.legendIndex=h,t.data.series.push(O);var y={color:f,text:p};t.legendData.push([y])}else t.thresholdsArr.push(g),r===$.Gain?t.data.tooltip.formatter=G("Threshold","Gain",t.legendData,t.thresholdsArr):r===$.Accuracy?t.data.tooltip.formatter=G("Threshold","Accuracy",t.legendData,t.thresholdsArr):r===$.Lift?t.data.tooltip.formatter=G("Threshold","Lift",t.legendData,t.thresholdsArr):r===$.loss?t.data.tooltip.formatter=b.tooltip.formatter=function(e){var a="",n=e[0].axisValue;return a+="iteration: "+n+"<br>",e.forEach(function(e,n){if(!1!==t.legendData[n].isActive){var i=e.data[1];a+="loss("+e.seriesName+"): "+Object(v.d)(i)+"<br>"}}),a}:r===$.RecallMulti||r===$.PrecisionMulti?t.data.tooltip.formatter=function(e){var a="",n=e[0].axisValue;return a+="Class: "+n+"<br>",e.forEach(function(e,n){if(!1!==t.legendData[n].isActive){var i=Array.isArray(e.data)?e.data[1]:e.data;a+=e.seriesName+": "+i+"<br>"}}),a}:r===$.ROC&&(t.data.tooltip.formatter=function(e){var a="";return e.forEach(function(e,n){if(!1!==t.legendData[n].isActive){var i=t.thresholdsArr[n][e.dataIndex];(i||0===i)&&(a+="Threshold("+e.seriesName+"): "+i+"<br>"),a+="Tpr("+e.seriesName+"): "+e.data[1]+"<br>",a+="Fpr("+e.seriesName+"): "+e.axisValue+"<br>"}}),a}),t.data.series.push(O),t.legendData.push({color:d,text:p});return{v:void 0}}},L=0;L<a.length;L++){var C=S(L);if("object"===(void 0===C?"undefined":i()(C)))return C.v}var T="",k=[];r===$.RecallMulti||r===$.PrecisionMulti?(T=r===$.PrecisionMulti?W[0]:U[0],b.series[0].itemStyle.color=T,b.series[0].legendIndex=0,k.push([{color:T,text:p}])):(b.series[0].itemStyle.color=W[0],k.push({color:W[0],text:p}));var A={type:m,nameSpace:o,data:b,legendData:k,thresholdsArr:[g]};return void("train"===o?a.unshift(A):a.push(A))}if(r===$.RecallBinary||r===$.PrecisionBinary){var N=function(){var e={};Array.isArray(n)?n.forEach(function(t){e[t[0]]=t[1]}):e=n;var t={name:p,type:"line",smooth:!1,symbolSize:1,halfData:e,itemStyle:{opacity:1},lineStyle:{opacity:1},pair_type:u};(b=Object(v.a)(V)).xAxis.name="recall",b.yAxis.name="precision",b.tooltip.formatter=function(e){var t="";return e.forEach(function(e){var a=g[e.dataIndex];(a||0===a)&&(t+="Thresholds("+e.seriesName+"): "+a+"<br>");var n=Array.isArray(e.data)?e.data[1]:e.data;t+="Precision("+e.seriesName+"):"+n+"<br>",t+="Recall("+e.seriesName+"):"+e.axisValue+"<br>"}),t},b.series.push(t);for(var s=function(n){var s=a[n];if("Precision Recall"===s.type&&s.nameSpace===o){for(var l=function(t){var a=s.data.series[t];if(a.pair_type===u){s.thresholdsArr?s.thresholdsArr.push(g):s.thresholdsArr=[g],s.data.tooltip.formatter=function(e){var t="";return e.forEach(function(e,a){if(!1!==s.legendData[a].isActive){var n=s.thresholdsArr[a][e.dataIndex];(n||0===n)&&(t+="Thresholds("+e.seriesName+"): "+n+"<br>");var i=Array.isArray(e.data)?e.data[1]:e.data;t+="Precision("+e.seriesName+"):"+i+"<br>",t+="Recall("+e.seriesName+"):"+e.axisValue+"<br>"}}),t};var n={};f()(a.halfData).forEach(function(t){var i=[];r===$.RecallBinary?(i[0]=e[t],i[1]=a.halfData[t]):(i[0]=a.halfData[t],i[1]=e[t]),n[i[0]]?i[1]>n[i[0]][1]&&(n[i[0]]=i):n[i[0]]=i});var i=W[s.data.series.length-1]||J(s.data.series.length-1);s.data.series[t].itemStyle.color=i,s.legendData.push({color:i,text:p});var o=d()(n).sort(function(e,t){return e[0]-t[0]});return s.data.series[t].data=o,{v:{v:{v:void 0}}}}},c=0;c<s.data.series.length;c++){var h=l(c);if("object"===(void 0===h?"undefined":i()(h)))return h.v}return s.data.series.push(t),{v:{v:void 0}}}},l=0;l<a.length;l++){var c=s(l);if("object"===(void 0===c?"undefined":i()(c)))return c.v}var h={type:"Precision Recall",metric_type:r,nameSpace:o,data:b,legendData:[]};"train"===o?a.unshift(h):a.push(h)}();if("object"===(void 0===N?"undefined":i()(N)))return N.v}else{if(r===$["K-S"]){var E={name:p,type:"line",smooth:!1,symbolSize:1,itemStyle:{opacity:1},lineStyle:{opacity:1},data:n,pair_type:u};m="K-S",(b=Object(v.a)(V)).xAxis.name=c,b.yAxis.name="tpr, fpr",b.series.push(E);for(var j=function(e){var t=a[e];if(t.type===m&&t.nameSpace===o){for(var r=0;r<t.data.series.length;r++){var s=t.data.series[r];if(s.pair_type&&s.pair_type===u){var l=function(){var e=0,a=0,i=0,o=0,l=s.legendIndex;s.data.forEach(function(t,r){var s=Math.abs(t[1]-n[r][1]);s>e&&(e=s,o=t[0],a=t[1],i=n[r][1])});var c=/_tpr$/g.test(s.name)?{tpr:s.name,fpr:E.name,pairType:s.name.replace(/_tpr$/g,"")}:{tpr:E.name,fpr:s.name,pairType:E.name.replace(/_tpr$/g,"")};c.thresholds=g,t.data.KSFormaterArr?t.data.KSFormaterArr.push(c):t.data.KSFormaterArr=[c],t.data.series.push({name:"",type:"line",symbol:"none",data:[[o,a],[o,i]],itemStyle:{color:W[l]},lineStyle:{type:"dashed",opacity:1},pairType:u}),t.data.tooltip.formatter=function(e){var a="";return t.data.KSFormaterArr.forEach(function(n,i){if(!1!==t.legendData[i].isActive){var r=n.thresholds[e[0].dataIndex];(r||0===r)&&(a+="Threshold: ("+n.pairType+")"+r+"<br>");var o=!1,s=0,l=0;if(e.forEach(function(e){e.seriesName===n.tpr&&(a+=n.tpr+": "+e.data[1]+"<br>",s=e.data[1],o=!0),e.seriesName===n.fpr&&(a+=n.fpr+": "+e.data[1]+"<br>",l=e.data[1])}),o){var c=Math.abs(s-l);a+="KS: "+Object(v.d)(c)+"<br>"}}}),a};var d="";return/_tpr$/g.test(s.name)?(d=U[l],E.itemStyle.color=d,t.data.series.length>r+1?t.data.series.splice(r+1,0,E):t.data.series.push(E),t.legendData[l].push({color:d,text:p})):(d=W[l],E.itemStyle.color=d,t.data.series.splice(r,0,E),t.legendData[l].unshift({color:W[l],text:p})),{v:{v:void 0}}}();if("object"===(void 0===l?"undefined":i()(l)))return l.v}}var c="",d=t.legendData.length;E.legendIndex=d;var h=[{color:c=/_tpr$/g.test(p)?W[d]:U[d],text:p}];return E.itemStyle.color=c,t.data.series.push(E),t.legendData.push(h),{v:void 0}}},M=0;M<a.length;M++){var z=j(M);if("object"===(void 0===z?"undefined":i()(z)))return z.v}var B="",H=[],F=[{color:B=/_tpr$/g.test(p)?W[0]:U[0],text:p}];H.push(F),b.series[0].itemStyle.color=B,b.series[0].legendIndex=0;var P={type:m,nameSpace:o,data:b,legendData:H};return void("train"===o?a.unshift(P):a.push(P))}if(r===$.Summary){var R={};0===h.tHeader.length&&(h.tHeader.push({prop:"metric_name",label:""}),h.tHeader.push({prop:"metric_namespace",label:"dataset"}),n.forEach(function(e){h.tHeader.push({prop:e[0],label:e[0]})})),R.metric_name=s.replace(/(train_|validate_)/g,""),R.metric_namespace=o,n.forEach(function(e){R[e[0]]=e[1]}),h.tBody.push(R),h.tBody=h.tBody.sort(function(e,t){var a=e.metric_name.substr(0,e.metric_name.lastIndexOf("_")),n=e.metric_name.substr(e.metric_name.lastIndexOf("_")+1),i=t.metric_name.substr(0,t.metric_name.lastIndexOf("_")),r=t.metric_name.substr(t.metric_name.lastIndexOf("_")+1);return a===i?n-r:a.charCodeAt(0)-i.charCodeAt(0)})}}}t.push({type:m,nameSpace:o,data:b,scaleMethod:y})}({metricOutputList:t.metricOutputList,modelSummaryData:t.modelSummaryData,modelOutputType:t.modelOutputType,evaluationOutputList:r,data:o,meta:l,metric_type:c,metric_namespace:a,metric_name:s,unit_name:p,curve_name:u,pair_type:h,thresholds:g})}}),o===f()(n).length-1&&l===n[a].length-1&&setTimeout(function(){var e=[],a=[];r.forEach(function(e){e.type&&-1===a.indexOf(e.type)&&a.push(e.type)}),t.$store.dispatch("SetCurveInstances",r),["ROC","K-S","Lift","Gain","Precision Recall","Accuracy"].filter(function(e){return-1!==a.indexOf(e)}).forEach(function(t,a){e.push(0===a)}),e[0]=!0,t.$store.dispatch("SetCvFlags",e)},1200)})})}else t.metricLoading=!1,t.isNoMetricOutput=!0})},getDataOutput:function(e){var t=this;(function(e){return Object(y.a)({url:"/v1/tracking/component/output/data",method:"post",data:e})})({job_id:this.jobId,role:this.role,party_id:this.partyId,component_name:e}).then(function(e){var a=[],n=[];e.data&&e.data.meta&&e.data.meta.header?(e.data.meta.header.forEach(function(e){a.push({prop:e.replace(".",""),label:e})}),e.data.data.forEach(function(e){var t={};a.forEach(function(a,n){var r=e[n];"object"===(void 0===r?"undefined":i()(r))&&(r=o()(r)),t[a.prop]=r&&r.toString()}),n.push(t)}),0===a.length||0===n.length?t.dataOutputNoData=!0:(t.dataOutputHeader=a,t.dataOutputBody=n)):t.dataOutputNoData=!0})},getModelOutput:function(e){var t=this;this.modelLoading=!0,function(e){return Object(y.a)({url:"/v1/tracking/component/output/model",method:"post",data:e})}({job_id:this.jobId,role:this.role,party_id:this.partyId,component_name:e}).then(function(e){t.modelLoading=!1;var a=e.data.data?e.data.data:null;if(t.modelOutputData=P({outputType:t.modelOutputType,role:t.role,partyId:t.partyId,responseData:a,isNoModelOutput:t.isNoModelOutput}),t.modelOutputData&&t.modelOutputData.treeOptions){t.modelOutputData.treeOptions.series.label.formatter=function(e){var t=e.name.match(/ID:\s*[0-9]*/);return"{idStyle|"+(t=t?t[0]:null)+"}{checkStyle|\n  }"+e.name.replace(t,"")},t.modelOutputData.treeOptions.series.label.rich=t.modelOutputData.treeOptions.series.label.rich||{},t.modelOutputData.treeOptions.series.label.rich.idStyle={width:56,height:16,lineHeight:16,fontSize:10,borderRadius:[5,5,0,0],borderWidth:1,borderColor:"#bbbbc8",backgroundColor:"#E8E8EF",color:"#7f7d8e",verticalAlign:"middle",shadowColor:"#bbbbc8",shadowBlur:0,shadowOffsetY:0},t.modelOutputData.treeOptions.series.label.rich.checkStyle={lineHeight:3,fontSize:3,width:56};var n=t.modelOutputData.treeOptions.series.label.padding;2===n.length&&(n[2]=n[0],n[3]=n[1],n[0]=-16),t.modelOutputData.treeOptions.series.label.padding=n,t.modelOutputData.treeOptions.series.top="12%"}t.isNoModelOutput=Boolean(t.modelOutputData.isNoModelOutput)}).catch(function(){t.modelLoading=!1,t.isNoModelOutput=!0})}}},he=(a("Bw9L"),Object(_.a)(de,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container details-container bg-dark"},[a("h3",{staticClass:"app-title"},[a("span",{staticClass:"text-primary pointer",on:{click:e.toPrevPage}},[e._v(e._s(e.jobFrom))]),e._v(" > "+e._s(e.jobId)+"\n  ")]),e._v(" "),a("section",{staticClass:"section-wrapper"},[a("div",{staticClass:"flex space-between",staticStyle:{"padding-top":"12px"}},[a("h3",{staticClass:"section-title"},[e._v("JOB SUMMARY")]),e._v(" "),a("el-button",{staticStyle:{height:"32px","line-height":"0","font-size":"16px",transform:"translateY(-12px)"},attrs:{type:"primary",round:""},on:{click:function(t){e.$router.push({path:"/dashboard",query:{job_id:e.jobId,role:e.role,party_id:e.partyId}})}}},[e._v("dashboard\n      ")])],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.summaryLoading,expression:"summaryLoading"}],staticClass:"section-view job-summary shadow"},[a("el-row",[a("el-col",{staticClass:"section-col",attrs:{span:10}},[a("div",{staticClass:"text-col"},[a("p",{staticClass:"prop"},[e._v("Job ID")]),e._v(" "),a("p",{staticClass:"prop"},[e._v("Status")])]),e._v(" "),a("div",{staticClass:"text-col"},[a("p",{staticClass:"value text-primary"},[e._v(e._s(e.jobId))]),e._v(" "),a("p",{staticClass:"value text-primary"},[e._v(e._s(e.jobInfo.status))])])]),e._v(" "),a("el-col",{staticClass:"section-col",attrs:{span:7}},[a("div",{staticClass:"text-col"},[a("p",{staticClass:"prop"},[e._v("Role")]),e._v(" "),a("p",{staticClass:"prop"},[e._v("Party_ID")]),e._v(" "),e._l(e.roleList,function(t,n){return a("p",{key:n,staticClass:"prop"},[e._v(e._s(t.role))])})],2),e._v(" "),a("div",{staticClass:"text-col"},[a("p",{staticClass:"value"},[e._v(e._s(e.role))]),e._v(" "),a("p",{staticClass:"value"},[e._v(e._s(e.partyId))]),e._v(" "),e._l(e.roleList,function(t,n){return a("div",{key:n,staticClass:"flex flex-center"},[a("p",{staticClass:"value"},[e._v(e._s(t.datasetList.length))]),e._v(" "),a("el-popover",{attrs:{placement:"right-start",title:"",width:"250",trigger:"click"}},[a("div",[a("el-row",[a("el-col",{attrs:{span:8}},[a("p",{staticStyle:{"margin-bottom":"8px","font-weight":"bold",color:"#7f7d8e",height:"18px","line-height":"18px"}},[e._v(e._s(t.role))]),e._v(" "),e._l(t.datasetList,function(t,n){return a("p",{key:n},[e._v(e._s(t.name))])})],2),e._v(" "),a("el-col",{attrs:{span:12,offset:4}},[a("p",{staticStyle:{"margin-bottom":"8px","font-weight":"bold",color:"#7f7d8e",height:"18px","line-height":"18px"}},[e._v("DATASET")]),e._v(" "),e._l(t.datasetList,function(t,n){return a("p",{key:n},[e._v(e._s(t.dataset))])})],2)],1)],1),e._v(" "),a("p",{staticClass:"text-primary tip",attrs:{slot:"reference"},slot:"reference"},[e._v("view")])])],1)})],2)]),e._v(" "),a("el-col",{staticClass:"section-col",attrs:{span:7}},[a("div",{staticClass:"text-col"},[a("p",{staticClass:"prop"},[e._v("Submission Time")]),e._v(" "),a("p",{staticClass:"prop"},[e._v("Start Time")]),e._v(" "),a("p",{staticClass:"prop"},[e._v("End time")]),e._v(" "),a("p",{staticClass:"prop"},[e._v("Duration")])]),e._v(" "),a("div",{staticClass:"text-col"},[a("p",{staticClass:"value"},[e._v(e._s(e.jobInfo.submmissionTime))]),e._v(" "),a("p",{staticClass:"value"},[e._v(e._s(e.jobInfo.startTime))]),e._v(" "),a("p",{staticClass:"value"},[e._v(e._s(e.jobInfo.endTime))]),e._v(" "),a("p",{staticClass:"value"},[e._v(e._s(e.jobInfo.duration))])])])],1)],1)]),e._v(" "),a("section",{staticClass:"section-wrapper"},[a("h3",{staticClass:"section-title"},[e._v("OUTPUTS FROM JOB")]),e._v(" "),a("div",{staticClass:"output-wrapper shadow flex"},[a("div",{staticClass:"dag-wrapper overflow-auto"},[a("h4",{staticClass:"output-title"},[e._v("Main Graph")]),e._v(" "),a("p",{staticClass:"output-desc"},[e._v("Click component to view details")]),e._v(" "),e.DAGData?a("div",{staticClass:"echart-wrapper"},[a("dag",{attrs:{msg:e.DAGData},on:{"click-progress":e.getDagInstance}})],1):e._e()]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.paraLoading,expression:"paraLoading"}],staticClass:"para-wrapper"},[a("h4",{staticClass:"para-title"},[e._v("Parameter")]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.msgLoading,expression:"msgLoading"}],staticClass:"msg bg-dark"},[a("ul",{staticClass:"msg-list"},e._l(e.paramList,function(t,n){return a("li",{key:n},[a("ul",{staticClass:"msg-section-list"},e._l(t,function(t,n){return a("li",{key:n,style:{"font-weight":t.isObjKey?"bold":"normal","text-indent":16*t.level+"px"}},[e._v("\n                  "+e._s(t.value)+"\n                ")])}))])}))]),e._v(" "),a("el-button",{staticStyle:{height:"32px","line-height":"0","font-size":"16px"},attrs:{disabled:!e.componentName,type:"primary",round:""},on:{click:e.visualization}},[e._v("\n          view the outputs\n        ")])],1)])]),e._v(" "),a("el-dialog",{attrs:{visible:e.outputVisible,title:e.outputTitle,"close-on-click-modal":!1,"show-close":!1,fullscreen:e.fullscreen,width:"80%",top:"10vh"},on:{"update:visible":function(t){e.outputVisible=t},close:e.initOutput}},[a("div",{staticClass:"dialog-icons flex flex-center"},[a("icon-hover-and-active",{attrs:{"class-name":"img-wrapper","default-url":e.icons.normal[e.fullscreen?"offscreen":"fullscreen"],"hover-url":e.icons.hover[e.fullscreen?"offscreen":"fullscreen"],"active-url":e.icons.active[e.fullscreen?"offscreen":"fullscreen"]},on:{clickFn:e.dialogFullScreen}}),e._v(" "),a("icon-hover-and-active",{attrs:{"class-name":"img-wrapper","default-url":e.icons.normal.close,"hover-url":e.icons.hover.close,"active-url":e.icons.active.close},on:{clickFn:function(t){e.outputVisible=!1}}})],1),e._v(" "),a("div",{staticClass:"tab-bar flex"},[a("div",{staticClass:"tab-btn",class:{"tab-btn-active":"model"===e.currentTab},on:{click:function(t){e.switchLogTab("model")}}},[a("span",{staticClass:"text"},[e._v("model output")])]),e._v(" "),a("div",{staticClass:"tab-btn",class:{"tab-btn-active":"data"===e.currentTab},on:{click:function(t){e.switchLogTab("data")}}},[a("span",{staticClass:"text"},[e._v("data output")])]),e._v(" "),a("div",{staticClass:"tab-btn",class:{"tab-btn-active":"log"===e.currentTab},on:{click:function(t){e.switchLogTab("log")}}},[a("span",{staticClass:"text"},[e._v("log")])])]),e._v(" "),a("section",{directives:[{name:"loading",rawName:"v-loading",value:e.metricLoading&&e.modelLoading,expression:"metricLoading && modelLoading"}],staticClass:"section-wrapper",staticStyle:{padding:"0 48px 48px","margin-bottom":"0",overflow:"auto"},style:{height:e.fullscreen?"calc(100vh - 130px)":"70vh"}},[a("div",{staticClass:"section-view",staticStyle:{padding:"0"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"model"===e.currentTab,expression:"currentTab === 'model'"}],staticClass:"tab"},[a("model-output",{ref:"dialog",attrs:{"metric-output-list":e.metricOutputList,"evaluation-output-list":e.evaluationInstances,"model-summary-data":e.modelSummaryData,"is-full-screen":e.fullscreen,"model-output-type":e.modelOutputType,role:e.role,"model-output":e.modelOutputData,"is-no-metric-output":e.isNoMetricOutput,"is-no-model-output":e.isNoModelOutput}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"data"===e.currentTab,expression:"currentTab === 'data'"}]},[a("data-output",{ref:"dataoutputdialog",attrs:{"t-header":e.dataOutputHeader,"t-body":e.dataOutputBody,"no-data":e.dataOutputNoData}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"log"===e.currentTab,expression:"currentTab === 'log'"}],ref:"logView"},[a("ul",{staticClass:"log-list",style:{height:e.fullscreen?"75vh":"63vh"},on:{mousewheel:e.logOnMousewheel}},e._l(e.logList,function(t,n){return a("li",{key:n,staticClass:"flex"},[a("span",{staticClass:"num"},[e._v(e._s(t.lineNum))]),e._v(" "),a("span",[e._v(e._s(t.content))])])}))])])])])],1)},[],!1,null,null,null));he.options.__file="index.vue";t.default=he.exports},oF3Q:function(e,t,a){e.exports={default:a("tgZa"),__esModule:!0}},sopu:function(e,t,a){var n=a("zTbg");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("f35280d2",n,!0,{})},tgZa:function(e,t,a){a("nGDx"),e.exports=a("WEpk").Object.entries},wObO:function(e,t){e.exports=function(){return Function.call.apply(Array.prototype.concat,arguments)}},zMWc:function(e,t,a){"use strict";var n=a("sopu");a.n(n).a},zTbg:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}}]);